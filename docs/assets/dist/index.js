/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/component/joda-content-element.ts":
/*!***********************************************!*\
  !*** ./src/component/joda-content-element.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JodaContentElement: () => (/* binding */ JodaContentElement)\n/* harmony export */ });\n/* harmony import */ var _kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @kasimirjs/embed */ \"../kasi-embed/index.ts\");\n/* harmony import */ var _processor_jodastyle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../processor/jodastyle */ \"./src/processor/jodastyle.ts\");\n/* harmony import */ var _processor_jodaresponsive__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../processor/jodaresponsive */ \"./src/processor/jodaresponsive.ts\");\n/* harmony import */ var _helper_logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../helper/logger */ \"./src/helper/logger.ts\");\n/* harmony import */ var _processor_jodaimageproc__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../processor/jodaimageproc */ \"./src/processor/jodaimageproc.ts\");\n/* harmony import */ var _processor_jodavisualize__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../processor/jodavisualize */ \"./src/processor/jodavisualize.ts\");\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __decorateClass = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp(target, key, result);\n  return result;\n};\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\nvar _origContentTemplate, _outputDiv;\n\n\n\n\n\n\nfunction getCSSRule(ruleName) {\n  ruleName = ruleName.toLowerCase();\n  var result = null;\n  var find = Array.prototype.find;\n  find.call(document.styleSheets, (styleSheet) => {\n    result = find.call(styleSheet.cssRules, (cssRule) => {\n      return cssRule instanceof CSSStyleRule && cssRule.selectorText.toLowerCase() == ruleName;\n    });\n    return result != null;\n  });\n  return result;\n}\nconsole.time(\"jodaTime\");\nlet JodaContentElement = class extends HTMLElement {\n  constructor() {\n    super(...arguments);\n    __privateAdd(this, _origContentTemplate, void 0);\n    __privateAdd(this, _outputDiv, void 0);\n  }\n  awaitStyles() {\n    return __async(this, null, function* () {\n      let index = 0;\n      while (true) {\n        index++;\n        let initValue = getComputedStyle(this).getPropertyValue(\"--joda-init\");\n        if (initValue.indexOf(\"true\") !== -1) {\n          break;\n        }\n        if (index > 100) {\n          index = 0;\n          console.warn(\"Still waiting for --joda-init: true\", this, \"current value:\", initValue, \"on url\", window.location.href);\n        }\n        yield (0,_kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__.ka_sleep)(50 + index);\n      }\n    });\n  }\n  setLoaded() {\n    return __async(this, null, function* () {\n      yield (0,_kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__.ka_sleep)(10);\n      this.classList.add(\"loaded\");\n      yield (0,_kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__.ka_sleep)(100);\n      document.body.classList.add(\"loaded\");\n      document.querySelector(\"html\").classList.remove(\"loader\");\n    });\n  }\n  connectedCallback() {\n    return __async(this, null, function* () {\n      let logger = new _helper_logger__WEBPACK_IMPORTED_MODULE_3__.Logger(\"joda-content\");\n      yield (0,_kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__.ka_sleep)(1);\n      let jodaImage = new _processor_jodaimageproc__WEBPACK_IMPORTED_MODULE_4__.JodaImageProc(logger);\n      yield jodaImage.process(this);\n      yield this.awaitStyles();\n      __privateSet(this, _origContentTemplate, (0,_kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__.ka_create_element)(\"template\"));\n      __privateSet(this, _outputDiv, (0,_kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__.ka_create_element)(\"div\"));\n      let jodaStyle = new _processor_jodastyle__WEBPACK_IMPORTED_MODULE_1__.Jodastyle(logger);\n      yield jodaStyle.process(this);\n      let jodaresponsive = new _processor_jodaresponsive__WEBPACK_IMPORTED_MODULE_2__.Jodaresponsive(logger);\n      let currentBreakpoint = (0,_processor_jodaresponsive__WEBPACK_IMPORTED_MODULE_2__.getCurrentBreakpoint)();\n      jodaresponsive.process(this);\n      if (this.hasAttribute(\"visualize\")) {\n        logger.log(\"Adding class and tag names\");\n        new _processor_jodavisualize__WEBPACK_IMPORTED_MODULE_5__.Jodavisualize().process(__privateGet(this, _outputDiv));\n      }\n      this.setLoaded();\n      window.addEventListener(\"resize\", () => {\n        if (currentBreakpoint === (0,_processor_jodaresponsive__WEBPACK_IMPORTED_MODULE_2__.getCurrentBreakpoint)()) {\n          return;\n        }\n        currentBreakpoint = (0,_processor_jodaresponsive__WEBPACK_IMPORTED_MODULE_2__.getCurrentBreakpoint)();\n        logger.log(\"Breakpoint changed to \" + currentBreakpoint);\n        jodaresponsive.process(this);\n      });\n    });\n  }\n  setContent(content) {\n    this.innerHTML = content;\n    this.connectedCallback();\n  }\n};\n_origContentTemplate = new WeakMap();\n_outputDiv = new WeakMap();\nJodaContentElement = __decorateClass([\n  (0,_kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__.customElement)(\"joda-content\")\n], JodaContentElement);\n\n\n//# sourceURL=webpack://@leuffen/jodastyle/./src/component/joda-content-element.ts?");

/***/ }),

/***/ "./src/component/joda-fetch.ts":
/*!*************************************!*\
  !*** ./src/component/joda-fetch.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @kasimirjs/embed */ \"../kasi-embed/index.ts\");\n/* harmony import */ var _processor_jodastyle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../processor/jodastyle */ \"./src/processor/jodastyle.ts\");\n/* harmony import */ var _helper_logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../helper/logger */ \"./src/helper/logger.ts\");\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __decorateClass = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp(target, key, result);\n  return result;\n};\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n\n\nlet JodaFetch = class extends HTMLElement {\n  connectedCallback() {\n    return __async(this, null, function* () {\n      let select = this.getAttribute(\"data-select\");\n      let elem = document.querySelector(select);\n      if (elem === null) {\n        console.error(\"joda-fetch: Element not found\", select, \"in element\", this);\n        return;\n      }\n      let jodaStyle = new _processor_jodastyle__WEBPACK_IMPORTED_MODULE_1__.Jodastyle(new _helper_logger__WEBPACK_IMPORTED_MODULE_2__.Logger(\"joda-fetch\"));\n      this.innerHTML = elem.innerHTML;\n      yield jodaStyle.process(this);\n    });\n  }\n};\nJodaFetch = __decorateClass([\n  (0,_kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__.customElement)(\"joda-fetch\")\n], JodaFetch);\n\n\n//# sourceURL=webpack://@leuffen/jodastyle/./src/component/joda-fetch.ts?");

/***/ }),

/***/ "./src/component/joda-split.ts":
/*!*************************************!*\
  !*** ./src/component/joda-split.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @kasimirjs/embed */ \"../kasi-embed/index.ts\");\n/* harmony import */ var _processor_jodasplit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../processor/jodasplit */ \"./src/processor/jodasplit.ts\");\n/* harmony import */ var _helper_logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../helper/logger */ \"./src/helper/logger.ts\");\n/* harmony import */ var _processor_jodashorts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../processor/jodashorts */ \"./src/processor/jodashorts.ts\");\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __decorateClass = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp(target, key, result);\n  return result;\n};\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\nvar _ready;\n\n\n\n\nlet JodaSplit = class extends HTMLElement {\n  constructor() {\n    super(...arguments);\n    __privateAdd(this, _ready, false);\n  }\n  get ready() {\n    return __privateGet(this, _ready);\n  }\n  connectedCallback() {\n    return __async(this, null, function* () {\n      let logger = new _helper_logger__WEBPACK_IMPORTED_MODULE_2__.Logger(\"joda-split\");\n      yield (0,_kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__.ka_sleep)(1);\n      let jodaShorts = new _processor_jodashorts__WEBPACK_IMPORTED_MODULE_3__.Jodashorts(logger);\n      this.innerHTML = yield jodaShorts.process(this.innerHTML);\n      let jodaSplit = new _processor_jodasplit__WEBPACK_IMPORTED_MODULE_1__.Jodasplit(logger);\n      let fragment = document.createDocumentFragment();\n      fragment.append(yield jodaSplit.process(this));\n      this.innerHTML = \"\";\n      this.append(fragment);\n      __privateSet(this, _ready, true);\n    });\n  }\n};\n_ready = new WeakMap();\nJodaSplit = __decorateClass([\n  (0,_kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__.customElement)(\"joda-split\")\n], JodaSplit);\n\n\n//# sourceURL=webpack://@leuffen/jodastyle/./src/component/joda-split.ts?");

/***/ }),

/***/ "./src/helper/JodaDescriptionManager.ts":
/*!**********************************************!*\
  !*** ./src/helper/JodaDescriptionManager.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JodaDescriptionManager: () => (/* binding */ JodaDescriptionManager),\n/* harmony export */   __JodaDescriptionManager: () => (/* binding */ __JodaDescriptionManager)\n/* harmony export */ });\nvar __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nclass __JodaDescriptionManager {\n  addClass(category, className, description, example, modifiers, config = {}) {\n    let defaultConfig = {\n      bodyClasses: [],\n      parseMarkdown: true\n    };\n    config = __spreadValues(__spreadValues({}, defaultConfig), config);\n    if (window[\"jodastyle\"] === void 0) {\n      window[\"jodastyle\"] = {};\n    }\n    if (window[\"jodastyle\"][\"descriptions\"] === void 0) {\n      window[\"jodastyle\"][\"descriptions\"] = [];\n    }\n    window[\"jodastyle\"][\"descriptions\"].push({ category, className, description, example, modifiers, config });\n  }\n  get data() {\n    return window[\"jodastyle\"][\"descriptions\"];\n  }\n  get classes() {\n    return this.data.map((e) => e.className);\n  }\n  getDescription(className) {\n    return this.data.find((e) => e.className === className);\n  }\n}\nconst JodaDescriptionManager = new __JodaDescriptionManager();\n\n\n//# sourceURL=webpack://@leuffen/jodastyle/./src/helper/JodaDescriptionManager.ts?");

/***/ }),

/***/ "./src/helper/JodaElementException.ts":
/*!********************************************!*\
  !*** ./src/helper/JodaElementException.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JodaElementException: () => (/* binding */ JodaElementException)\n/* harmony export */ });\nclass JodaElementException {\n  constructor(message, element = null, triggerCommand = null) {\n    this.message = message;\n    this.element = element;\n    this.triggerCommand = triggerCommand;\n  }\n}\n\n\n//# sourceURL=webpack://@leuffen/jodastyle/./src/helper/JodaElementException.ts?");

/***/ }),

/***/ "./src/helper/JodaErrorElement.ts":
/*!****************************************!*\
  !*** ./src/helper/JodaErrorElement.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JodaErrorElement: () => (/* binding */ JodaErrorElement)\n/* harmony export */ });\n/* harmony import */ var _kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @kasimirjs/embed */ \"../kasi-embed/index.ts\");\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __reflectGet = Reflect.get;\nvar __decorateClass = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp(target, key, result);\n  return result;\n};\nvar __superGet = (cls, obj, key) => __reflectGet(__getProtoOf(cls), key, obj);\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\nlet tpl = `\n<style>\n.joda-error {\n    display: block;\n    background-color: rgba(241,179,179,0.17);\n    margin: 1em;\n    padding: 1em;\n    color: red;\n    font-weight: bold;\n    border: 3px solid red;\n}\n</style>\n<div class=\"joda-error\">\n    [[ message ]]\n</div>\n`;\nlet JodaErrorElement = class extends _kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__.KaCustomElement {\n  constructor(message) {\n    super();\n    this.message = message;\n    let scope = this.init({\n      message\n    });\n  }\n  connectedCallback() {\n    return __async(this, null, function* () {\n      yield __superGet(JodaErrorElement.prototype, this, \"connectedCallback\").call(this);\n      this.scope.message = this.message;\n    });\n  }\n};\nJodaErrorElement = __decorateClass([\n  (0,_kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__.customElement)(\"joda-error\"),\n  (0,_kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__.template)(tpl)\n], JodaErrorElement);\n\n\n//# sourceURL=webpack://@leuffen/jodastyle/./src/helper/JodaErrorElement.ts?");

/***/ }),

/***/ "./src/helper/JodaRenderer.ts":
/*!************************************!*\
  !*** ./src/helper/JodaRenderer.ts ***!
  \************************************/
/***/ (() => {

eval("\n\n//# sourceURL=webpack://@leuffen/jodastyle/./src/helper/JodaRenderer.ts?");

/***/ }),

/***/ "./src/helper/MediaSupport.ts":
/*!************************************!*\
  !*** ./src/helper/MediaSupport.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MediaSupport: () => (/* binding */ MediaSupport),\n/* harmony export */   getMediaSupport: () => (/* binding */ getMediaSupport)\n/* harmony export */ });\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\nconst bestFormats = [\n  \"svg\",\n  \"avif\",\n  \"webp\",\n  \"jpg\",\n  \"jpeg\",\n  \"png\",\n  \"gif\"\n];\nclass MediaSupport {\n  constructor() {\n    this.avif = null;\n    this.webp = null;\n    this.jpg = true;\n    this.jpeg = true;\n    this.gif = true;\n    this.png = true;\n    this.valid = false;\n  }\n  detect() {\n    return __async(this, null, function* () {\n      this.webp = yield testWebP();\n      this.avif = yield testAvif();\n      console.log(\"Media supports\", this);\n      this.valid = true;\n    });\n  }\n  isSupported(extension) {\n    extension = extension.trim().toLowerCase();\n    if (typeof this[extension] === \"undefined\")\n      return false;\n    return this[extension];\n  }\n  getBestExtension(extensions) {\n    for (let curExt of bestFormats) {\n      if (typeof extensions.find((e) => e === curExt) !== \"undefined\" && this.isSupported(curExt))\n        return curExt;\n    }\n    return null;\n  }\n}\nfunction testWebP() {\n  return new Promise((res) => {\n    const webP = new Image();\n    webP.src = \"data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA\";\n    webP.onload = webP.onerror = () => {\n      res(webP.height === 2);\n    };\n  });\n}\n;\nfunction testAvif() {\n  return new Promise((res) => {\n    const webP = new Image();\n    webP.src = \"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=\";\n    webP.onload = webP.onerror = () => {\n      res(webP.height === 2);\n    };\n  });\n}\n;\nlet promises = null;\nlet mediaSupport = new MediaSupport();\nfunction getMediaSupport() {\n  return __async(this, null, function* () {\n    if (promises === null) {\n      promises = [];\n      yield mediaSupport.detect();\n      promises.forEach((exec) => exec(mediaSupport));\n    }\n    if (mediaSupport.valid === false) {\n      return new Promise((resolve) => {\n        promises.push(resolve);\n      });\n    }\n    return mediaSupport;\n  });\n}\n\n\n//# sourceURL=webpack://@leuffen/jodastyle/./src/helper/MediaSupport.ts?");

/***/ }),

/***/ "./src/helper/QTemplate.ts":
/*!*********************************!*\
  !*** ./src/helper/QTemplate.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   QTemplate: () => (/* binding */ QTemplate),\n/* harmony export */   template_parse: () => (/* binding */ template_parse)\n/* harmony export */ });\n/* harmony import */ var _kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @kasimirjs/embed */ \"../kasi-embed/index.ts\");\n\n\nfunction template_parse(input, scope, element) {\n  return input.replace(/\\[\\[(.*?)]]/gmi, (match, p1) => {\n    let val = (0,_kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__.ka_eval)(p1, scope, element, {});\n    return val;\n  });\n}\nclass QTemplate {\n  constructor(content) {\n    if (typeof content === \"string\") {\n      this.content = (0,_kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__.ka_create_element)(\"template\");\n      this.content.innerHTML = content;\n    } else {\n      this.content = content;\n    }\n    if (this.content instanceof HTMLTemplateElement) {\n      if (this.content.content.children.length > 1) {\n        throw new Error(\"Template must have exactly one root element. Found: \" + this.content.innerHTML);\n      }\n      this.content = this.content.content.firstElementChild.cloneNode(true);\n    }\n    this.selected = null;\n  }\n  parse(scope) {\n    let tpl = (0,_kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__.ka_create_element)(\"template\", {}, [], null);\n    tpl.content.append(this.content);\n    tpl.innerHTML = template_parse(tpl.innerHTML, scope, tpl);\n    this.content = tpl.content.firstElementChild;\n    return this;\n  }\n  /**\n   * Returns the element with the given data-ref attribute\n   * @param data_ref\n   */\n  by(data_ref) {\n    let selector = `[data-ref=\"${data_ref}\"]`;\n    if (this.content.matches(selector)) {\n      return this.content;\n    }\n    return this.content.querySelector(selector);\n  }\n  select(data_ref) {\n    this.selected = this.by(data_ref);\n    if (this.selected === null) {\n      console.error(\"Element with data-ref '\" + data_ref + \"' not found.\", this.content);\n      throw \"Element with data-ref '\" + data_ref + \"' not found.\";\n    }\n    return this;\n  }\n  /**\n   * Pick elements by selector and append them to the selected element\n   *\n   * @param source\n   * @param selector\n   */\n  pick(source, selector, modifier = null) {\n    Array.from(source.querySelectorAll(selector)).forEach((e) => {\n      if (modifier !== null) {\n        e = modifier(e);\n      }\n      this.selected.append(e);\n    });\n    return this;\n  }\n  /**\n   * Select and return own wrapper\n   *\n   * @param data_ref\n   */\n  with(data_ref) {\n    let instance = new QTemplate(this.content);\n    instance.select(data_ref);\n    return instance;\n  }\n  append(element) {\n    if (element instanceof QTemplate) {\n      this.selected.append(element.content);\n      return this;\n    }\n    if (element instanceof NodeList) {\n      Array.from(element).forEach((e) => this.selected.append(e));\n      return this;\n    }\n    if (Array.isArray(element) || element instanceof NodeList) {\n      element.forEach((e) => this.selected.append(e));\n      return this;\n    }\n    this.selected.append(element);\n    return this;\n  }\n  clone() {\n    return new QTemplate(this.content.cloneNode(true));\n  }\n}\n\n\n//# sourceURL=webpack://@leuffen/jodastyle/./src/helper/QTemplate.ts?");

/***/ }),

/***/ "./src/helper/functions.ts":
/*!*********************************!*\
  !*** ./src/helper/functions.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   await_property: () => (/* binding */ await_property),\n/* harmony export */   getCleanVariableValue: () => (/* binding */ getCleanVariableValue),\n/* harmony export */   getTemplateFilledWithContent: () => (/* binding */ getTemplateFilledWithContent),\n/* harmony export */   jodaRenderer: () => (/* binding */ jodaRenderer),\n/* harmony export */   parseConfigString: () => (/* binding */ parseConfigString),\n/* harmony export */   registerJodaRenderer: () => (/* binding */ registerJodaRenderer),\n/* harmony export */   splitChildrenBySelector: () => (/* binding */ splitChildrenBySelector),\n/* harmony export */   wrapElement: () => (/* binding */ wrapElement)\n/* harmony export */ });\n/* harmony import */ var _kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @kasimirjs/embed */ \"../kasi-embed/index.ts\");\n/* harmony import */ var _JodaElementException__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./JodaElementException */ \"./src/helper/JodaElementException.ts\");\n/* harmony import */ var _QTemplate__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./QTemplate */ \"./src/helper/QTemplate.ts\");\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n\n\nfunction await_property(object, property, wait = 10) {\n  return __async(this, null, function* () {\n    if (typeof property === \"string\") {\n      property = property.split(\".\");\n    }\n    let value = void 0;\n    let index = 0;\n    while (value === void 0) {\n      index++;\n      let curObject = object;\n      for (let i = 0; i < property.length; i++) {\n        if (curObject === void 0) {\n          break;\n        }\n        curObject = curObject[property[i]];\n      }\n      value = curObject;\n      if (value === void 0)\n        yield (0,_kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__.ka_sleep)(wait);\n      if (index > 1e3) {\n        index = 0;\n        console.warn(\"Still waiting for property: \", property, \"in object\", object);\n      }\n    }\n    return value;\n  });\n}\nfunction wrapElement(element, wrapper) {\n  var _a;\n  (_a = element.parentNode) == null ? void 0 : _a.insertBefore(wrapper, element);\n  wrapper.appendChild(element);\n}\nfunction registerJodaRenderer(name, renderer, config) {\n  if (window[\"jodastyle\"] === void 0) {\n    window[\"jodastyle\"] = {};\n  }\n  if (window[\"jodastyle\"][\"renderer\"] === void 0) {\n    window[\"jodastyle\"][\"renderer\"] = {};\n  }\n  window[\"jodastyle\"][\"renderer\"][name] = { renderer, config };\n}\nfunction jodaRenderer(name, config) {\n  return function(classOrDescriptor) {\n    console.log(classOrDescriptor);\n    registerJodaRenderer(name, classOrDescriptor, config);\n  };\n}\nfunction splitChildrenBySelector(element, splitBySelctor) {\n  let ret = [];\n  Array.from(element.children).forEach((child) => {\n    if (child.matches(splitBySelctor)) {\n      ret.push(document.createDocumentFragment());\n    }\n    if (ret.length > 0) {\n      ret[ret.length - 1].append(child);\n    }\n  });\n  return ret;\n}\nfunction getCleanVariableValue(styleValue) {\n  return styleValue.trim().replace(/^[\"']/g, \"\").replace(/[\"']$/, \"\").trim();\n}\nfunction parseConfigString(input) {\n  if (input == null) {\n    return {};\n  }\n  const obj = {};\n  const lines = input.trim().split(\";\");\n  for (let line of lines) {\n    const parts = line.trim().split(\":\");\n    if (parts.length == 2) {\n      obj[parts[0].trim()] = parts[1].trim();\n    }\n  }\n  return obj;\n}\nfunction getTemplateFilledWithContent(templateSelector, content, origElement) {\n  let template2 = document.querySelector(templateSelector);\n  if (template2 === null) {\n    throw new _JodaElementException__WEBPACK_IMPORTED_MODULE_1__.JodaElementException(\"Template not found: \" + templateSelector);\n  }\n  console.log(\"Found template: \" + templateSelector, \"on\", origElement);\n  let layout = {};\n  let props = getComputedStyle(origElement);\n  for (let key of props) {\n    if (key.startsWith(\"--layout-\")) {\n      layout[key.substring(9)] = props.getPropertyValue(key);\n    }\n  }\n  template2 = template2.cloneNode(true);\n  template2.innerHTML = (0,_QTemplate__WEBPACK_IMPORTED_MODULE_2__.template_parse)(template2.innerHTML, { layout }, content);\n  let clone = document.importNode(template2.content, true);\n  clone.querySelectorAll(\"slot[data-select][data-copy]\").forEach((slot2) => {\n    let select = slot2.getAttribute(\"data-select\");\n    let selected = Array.from(content.querySelectorAll(select)).map((element) => element.cloneNode(true));\n    if (selected.length === 0) {\n      console.warn(\"No element found for selector: \" + select + \" in template: \" + templateSelector + \" for slot: \" + slot2);\n      return;\n    }\n    if (slot2.hasAttribute(\"data-replace\") && selected) {\n      slot2.replaceWith(...selected);\n    } else if (selected) {\n      slot2.append(...selected);\n    }\n  });\n  clone.querySelectorAll(\"slot[data-select]\").forEach((slot2) => {\n    let select = slot2.getAttribute(\"data-select\");\n    let selected = Array.from(content.querySelectorAll(select));\n    if (selected.length === 0) {\n      console.warn(\"No element found for selector: \" + select + \" in template: \" + templateSelector + \" for slot: \" + slot2);\n      return;\n    }\n    if (slot2.hasAttribute(\"data-replace\") && selected) {\n      slot2.replaceWith(...selected);\n    } else if (selected) {\n      slot2.append(...selected);\n    }\n  });\n  let slot = clone.querySelector(\"slot:not([data-select])\");\n  if (slot !== null && slot.hasAttribute(\"data-replace\")) {\n    slot.replaceWith(...content.children);\n  } else if (slot !== null) {\n    slot.append(...content.children);\n  } else {\n    content.remove();\n  }\n  return clone;\n}\n\n\n//# sourceURL=webpack://@leuffen/jodastyle/./src/helper/functions.ts?");

/***/ }),

/***/ "./src/helper/ka-quick-template.ts":
/*!*****************************************!*\
  !*** ./src/helper/ka-quick-template.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createElement: () => (/* binding */ createElement),\n/* harmony export */   createElementTree: () => (/* binding */ createElementTree),\n/* harmony export */   parseAttributeStr: () => (/* binding */ parseAttributeStr),\n/* harmony export */   parseVariableAndStyleStr: () => (/* binding */ parseVariableAndStyleStr),\n/* harmony export */   parseVariableStr: () => (/* binding */ parseVariableStr)\n/* harmony export */ });\n/* harmony import */ var _kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @kasimirjs/embed */ \"../kasi-embed/index.ts\");\n\nfunction parseVariableAndStyleStr(varString) {\n  let attrs = { \"$\": {}, \"@\": {} };\n  let regex = new RegExp(`([@$])[^@^$]+`, \"gi\");\n  varString.replace(regex, (match, type) => {\n    match = match.substring(1);\n    if (match.indexOf(\"=\") === -1 && type === \"@\") {\n      if (typeof attrs[type].class === \"undefined\")\n        attrs[type].class = \"\";\n      attrs[type].class += \" \" + match;\n      attrs[type].class = attrs[type].class.trim();\n    } else {\n      let res = match.split(\"=\");\n      attrs[type][res.shift()] = res.join(\"=\").trim();\n    }\n    return \"\";\n  });\n  return attrs;\n}\nfunction parseVariableStr(varString, delimiter = \"@\") {\n  let attrs = {};\n  let regex = new RegExp(`\\\\${delimiter}[^${delimiter}]+`, \"gi\");\n  varString.replace(regex, (match) => {\n    match = match.substring(1);\n    if (match.indexOf(\"=\") === -1) {\n      if (typeof attrs.class === \"undefined\")\n        attrs.class = \"\";\n      attrs.class += \" \" + match;\n      attrs.class = attrs.class.trim();\n    } else {\n      let res = match.split(\"=\");\n      attrs[res.shift()] = res.join(\"=\").trim();\n    }\n    return \"\";\n  });\n  return attrs;\n}\nfunction parseAttributeStr(attrString) {\n  return parseVariableStr(attrString, \"@\");\n}\nfunction createElement(definition) {\n  let defRest = definition.trim();\n  let tag = \"div\";\n  defRest = defRest.replace(/^[a-z0-9_\\:\\-]+/ig, (match) => {\n    tag = match;\n    return \"\";\n  });\n  let attrs = parseAttributeStr(defRest);\n  let element = (0,_kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__.ka_create_element)(tag, attrs);\n  return element;\n}\nfunction createElementTree(def) {\n  let start = null;\n  let leaf = null;\n  let splitted = def.split(\">\");\n  while (splitted.length > 0) {\n    let cur = splitted.shift();\n    let refName = null;\n    cur = cur.replace(/§([a-z0-9_\\-]+)/, (a, name) => {\n      refName = name;\n      return \"\";\n    });\n    if (cur.trim().startsWith(\"|\")) {\n      let el2 = document.createElement(\"div\");\n      if (splitted.length > 0)\n        cur += \">\" + splitted.join(\">\");\n      el2.innerHTML = cur.trim().substring(1);\n      el2.childNodes.forEach((e) => leaf.append(e.cloneNode(true)));\n      el2.remove();\n      break;\n    }\n    let el = createElement(cur);\n    if (start === null) {\n      start = leaf = el;\n    } else {\n      if (leaf instanceof HTMLTemplateElement) {\n        leaf.content.appendChild(el);\n      } else {\n        leaf.appendChild(el);\n      }\n      leaf = el;\n    }\n  }\n  return { start, leaf };\n}\n\n\n//# sourceURL=webpack://@leuffen/jodastyle/./src/helper/ka-quick-template.ts?");

/***/ }),

/***/ "./src/helper/logger.ts":
/*!******************************!*\
  !*** ./src/helper/logger.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Logger: () => (/* binding */ Logger)\n/* harmony export */ });\nclass Logger {\n  constructor(name) {\n    this.name = name;\n  }\n  log(...args) {\n    console.log(\"[\" + this.name + \"]\", ...args);\n  }\n  warn(...args) {\n    console.warn(\"[\" + this.name + \"]\", ...args);\n  }\n}\n\n\n//# sourceURL=webpack://@leuffen/jodastyle/./src/helper/logger.ts?");

/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultLayout: () => (/* reexport safe */ _types_DefaultLayout__WEBPACK_IMPORTED_MODULE_6__.DefaultLayout),\n/* harmony export */   JodaContentElement: () => (/* reexport safe */ _component_joda_content_element__WEBPACK_IMPORTED_MODULE_1__.JodaContentElement),\n/* harmony export */   JodaDescriptionManager: () => (/* reexport safe */ _helper_JodaDescriptionManager__WEBPACK_IMPORTED_MODULE_7__.JodaDescriptionManager),\n/* harmony export */   Jodasplit: () => (/* reexport safe */ _processor_jodasplit__WEBPACK_IMPORTED_MODULE_9__.Jodasplit),\n/* harmony export */   Logger: () => (/* reexport safe */ _helper_logger__WEBPACK_IMPORTED_MODULE_8__.Logger),\n/* harmony export */   QTemplate: () => (/* reexport safe */ _helper_QTemplate__WEBPACK_IMPORTED_MODULE_5__.QTemplate),\n/* harmony export */   __JodaDescriptionManager: () => (/* reexport safe */ _helper_JodaDescriptionManager__WEBPACK_IMPORTED_MODULE_7__.__JodaDescriptionManager),\n/* harmony export */   await_property: () => (/* reexport safe */ _helper_functions__WEBPACK_IMPORTED_MODULE_4__.await_property),\n/* harmony export */   getCleanVariableValue: () => (/* reexport safe */ _helper_functions__WEBPACK_IMPORTED_MODULE_4__.getCleanVariableValue),\n/* harmony export */   getTemplateFilledWithContent: () => (/* reexport safe */ _helper_functions__WEBPACK_IMPORTED_MODULE_4__.getTemplateFilledWithContent),\n/* harmony export */   jodaRenderer: () => (/* reexport safe */ _helper_functions__WEBPACK_IMPORTED_MODULE_4__.jodaRenderer),\n/* harmony export */   parseConfigString: () => (/* reexport safe */ _helper_functions__WEBPACK_IMPORTED_MODULE_4__.parseConfigString),\n/* harmony export */   registerJodaRenderer: () => (/* reexport safe */ _helper_functions__WEBPACK_IMPORTED_MODULE_4__.registerJodaRenderer),\n/* harmony export */   splitChildrenBySelector: () => (/* reexport safe */ _helper_functions__WEBPACK_IMPORTED_MODULE_4__.splitChildrenBySelector),\n/* harmony export */   template_parse: () => (/* reexport safe */ _helper_QTemplate__WEBPACK_IMPORTED_MODULE_5__.template_parse),\n/* harmony export */   wrapElement: () => (/* reexport safe */ _helper_functions__WEBPACK_IMPORTED_MODULE_4__.wrapElement)\n/* harmony export */ });\n/* harmony import */ var _helper_JodaRenderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./helper/JodaRenderer */ \"./src/helper/JodaRenderer.ts\");\n/* harmony import */ var _helper_JodaRenderer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_helper_JodaRenderer__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _helper_JodaRenderer__WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _helper_JodaRenderer__WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _component_joda_content_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./component/joda-content-element */ \"./src/component/joda-content-element.ts\");\n/* harmony import */ var _component_joda_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./component/joda-fetch */ \"./src/component/joda-fetch.ts\");\n/* harmony import */ var _component_joda_split__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./component/joda-split */ \"./src/component/joda-split.ts\");\n/* harmony import */ var _helper_functions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./helper/functions */ \"./src/helper/functions.ts\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _helper_JodaRenderer__WEBPACK_IMPORTED_MODULE_0__) if([\"default\",\"JodaContentElement\",\"await_property\",\"getCleanVariableValue\",\"getTemplateFilledWithContent\",\"jodaRenderer\",\"parseConfigString\",\"registerJodaRenderer\",\"splitChildrenBySelector\",\"wrapElement\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _helper_JodaRenderer__WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _helper_QTemplate__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./helper/QTemplate */ \"./src/helper/QTemplate.ts\");\n/* harmony import */ var _types_DefaultLayout__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./types/DefaultLayout */ \"./src/types/DefaultLayout.ts\");\n/* harmony import */ var _helper_JodaDescriptionManager__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./helper/JodaDescriptionManager */ \"./src/helper/JodaDescriptionManager.ts\");\n/* harmony import */ var _helper_logger__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./helper/logger */ \"./src/helper/logger.ts\");\n/* harmony import */ var _processor_jodasplit__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./processor/jodasplit */ \"./src/processor/jodasplit.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack://@leuffen/jodastyle/./src/index.ts?");

/***/ }),

/***/ "./src/processor/LayoutProcessor.ts":
/*!******************************************!*\
  !*** ./src/processor/LayoutProcessor.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LayoutProcessor: () => (/* binding */ LayoutProcessor)\n/* harmony export */ });\n/* harmony import */ var _helper_functions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../helper/functions */ \"./src/helper/functions.ts\");\n\nconst commands = [\"use\", \"wrap\"];\nclass LayoutProcessor {\n  constructor(logger) {\n    this.logger = logger;\n  }\n  processNode(node) {\n    if (!node.hasAttribute(\"layout\"))\n      return node;\n    let layout = (0,_helper_functions__WEBPACK_IMPORTED_MODULE_0__.parseConfigString)(node.getAttribute(\"layout\"));\n    for (let key in layout) {\n      if (commands.includes(key)) {\n        node.style.setProperty(\"--joda-\" + key, layout[key]);\n        continue;\n      }\n      node.style.setProperty(\"--layout-\" + key, layout[key]);\n    }\n    return node;\n  }\n}\n\n\n//# sourceURL=webpack://@leuffen/jodastyle/./src/processor/LayoutProcessor.ts?");

/***/ }),

/***/ "./src/processor/jodaimageproc.ts":
/*!****************************************!*\
  !*** ./src/processor/jodaimageproc.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JodaImageProc: () => (/* binding */ JodaImageProc)\n/* harmony export */ });\n/* harmony import */ var _vendor_LeuCDNImageProc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../vendor/LeuCDNImageProc */ \"./src/vendor/LeuCDNImageProc.ts\");\n/* harmony import */ var _helper_MediaSupport__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helper/MediaSupport */ \"./src/helper/MediaSupport.ts\");\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n\nlet imageIndex = 0;\nclass JodaImageProc {\n  constructor(logger) {\n    this.logger = logger;\n  }\n  getBestResolution(data) {\n    data.sort((a, b) => {\n      if (a.width < b.width)\n        return -1;\n      if (a.width > b.width)\n        return 1;\n      return 0;\n    });\n    let fit = data.find((e) => e.width >= window.innerWidth);\n    if (typeof fit === \"undefined\")\n      fit = data[data.length - 1];\n    return fit != null ? fit : { width: 0, height: 0 };\n  }\n  getBestFormat(formats, mediaSupport) {\n    return mediaSupport.getBestExtension(formats);\n  }\n  process(node) {\n    return __async(this, null, function* () {\n      let processor = new _vendor_LeuCDNImageProc__WEBPACK_IMPORTED_MODULE_0__.LeuCDNImageProc();\n      let mediaSupport = yield (0,_helper_MediaSupport__WEBPACK_IMPORTED_MODULE_1__.getMediaSupport)();\n      for (let imgNode of node.querySelectorAll(\"img[src]\")) {\n        imageIndex++;\n        let src = imgNode.getAttribute(\"src\");\n        imgNode.setAttribute(\"data-src-orig\", src);\n        if (processor.isSuitable(src)) {\n          let data = processor.parseUrl(src);\n          let bestFit = this.getBestResolution(data.resolutions);\n          imgNode.setAttribute(\"width\", bestFit.width.toString());\n          imgNode.setAttribute(\"height\", bestFit.height.toString());\n          if (imgNode.getAttribute(\"alt\") === null)\n            imgNode.setAttribute(\"alt\", data.alt);\n          imgNode.setAttribute(\"src\", data.getUrl(bestFit, this.getBestFormat(data.formats, mediaSupport)));\n        }\n        if (imageIndex < 3) {\n          imgNode.setAttribute(\"loading\", \"eager\");\n        } else {\n          imgNode.setAttribute(\"loading\", \"lazy\");\n        }\n      }\n    });\n  }\n}\n\n\n//# sourceURL=webpack://@leuffen/jodastyle/./src/processor/jodaimageproc.ts?");

/***/ }),

/***/ "./src/processor/jodaresponsive.ts":
/*!*****************************************!*\
  !*** ./src/processor/jodaresponsive.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Jodaresponsive: () => (/* binding */ Jodaresponsive),\n/* harmony export */   breakpoints: () => (/* binding */ breakpoints),\n/* harmony export */   getCurrentBreakpoint: () => (/* binding */ getCurrentBreakpoint),\n/* harmony export */   parseClassStr: () => (/* binding */ parseClassStr)\n/* harmony export */ });\nconst breakpoints = {\n  \"xsm\": 0,\n  \"sm\": 576,\n  \"md\": 768,\n  \"lg\": 992,\n  \"xl\": 1200,\n  \"xxl\": 1400\n};\nfunction getCurrentBreakpoint() {\n  let ret = \"\";\n  Object.keys(breakpoints).forEach((key) => {\n    if (window.innerWidth >= breakpoints[key]) {\n      ret = key;\n    }\n  });\n  return ret;\n}\nclass ResponsiveClass {\n  constructor() {\n    this.always = [];\n    this.default = null;\n    this.xsm = null;\n    this.xs = null;\n    this.sm = null;\n    this.md = null;\n    this.lg = null;\n    this.xl = null;\n    this.xxl = null;\n    this.breakpoints = [\"xsm\", \"xs\", \"sm\", \"md\", \"lg\", \"xl\", \"xxl\"];\n  }\n  getClassesForBreakpoint(breakpoint = null) {\n    if (breakpoint === null) {\n      breakpoint = getCurrentBreakpoint();\n    }\n    let ret = [];\n    ret.push(...this.always);\n    let isDefault = true;\n    for (let bp of this.breakpoints) {\n      if (this[bp] !== null) {\n        ret = this[bp];\n        isDefault = false;\n      }\n      if (bp === breakpoint) {\n        break;\n      }\n    }\n    if (isDefault && this.default !== null) {\n      ret.push(...this.default);\n    }\n    ret = ret.filter((item) => item !== \"\");\n    return ret;\n  }\n}\nfunction parseClassStr(input) {\n  let ret = new ResponsiveClass();\n  let pointer = \"always\";\n  input.split(\" \").map((item) => {\n    let matches = item.match(/\\:([a-zA-Z]*)\\:/);\n    if (matches === null) {\n      ret[pointer].push(item);\n      return;\n    }\n    pointer = matches[1];\n    if (pointer === \"\") {\n      pointer = \"default\";\n    }\n    if (ret[pointer] === null) {\n      ret[pointer] = [];\n    }\n  });\n  return ret;\n}\nclass Jodaresponsive {\n  constructor(logger) {\n    this.logger = logger;\n  }\n  processNode(node) {\n    var _a;\n    const origAttr = \"data-class-orig\";\n    if (!node.hasAttribute(origAttr)) {\n      let classes2 = (_a = node.getAttribute(\"class\")) != null ? _a : \"\";\n      if (classes2.indexOf(\":\") === -1)\n        return;\n      node.setAttribute(origAttr, classes2);\n    }\n    let classes = node.getAttribute(origAttr);\n    let responsiveClasses = parseClassStr(classes);\n    node.setAttribute(\"class\", \"\");\n    node.classList.add(...responsiveClasses.always.filter((item) => item !== \"\"));\n    node.classList.add(...responsiveClasses.getClassesForBreakpoint());\n  }\n  process(node) {\n    Array.from([node, ...Array.from(node.querySelectorAll(\"*\"))]).forEach((child) => {\n      this.processNode(child);\n    });\n  }\n}\n\n\n//# sourceURL=webpack://@leuffen/jodastyle/./src/processor/jodaresponsive.ts?");

/***/ }),

/***/ "./src/processor/jodashorts.ts":
/*!*************************************!*\
  !*** ./src/processor/jodashorts.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Jodashorts: () => (/* binding */ Jodashorts)\n/* harmony export */ });\nclass Jodashorts {\n  constructor(logger) {\n    this.logger = logger;\n  }\n  process(source) {\n    source = source.replace(/\\[([a-z0-9\\-)]+)(.*?)]/g, (match, name, attrStr) => {\n      let attrs = {\n        \"class\": []\n      };\n      attrStr = attrStr.replaceAll(\"\\u201D\", '\"').replaceAll(\"\\u201C\", '\"').replaceAll(\"\\u2018\", \"'\").replaceAll(\"\\u2019\", \"'\");\n      attrStr = attrStr.replace(/([a-z0-9]+)=([\"'])(.*?)\\2/mig, (match2, name2, quote, value) => {\n        console.log(\"match\", match2, name2, quote, value);\n        attrs[name2] = value;\n        return \"\";\n      });\n      attrStr.split(\" \").forEach((attr) => {\n        attr = attr.trim();\n        if (attr === \"\")\n          return;\n        if (attr.startsWith(\".\")) {\n          attrs[\"class\"].push(attr.substr(1));\n        }\n        attrs[\"class\"].push(attr);\n      });\n      console.log(\"attrs\", attrs);\n      let attrstr = \"\";\n      for (let attr in attrs) {\n        if (attr === \"class\") {\n          attrstr += ` class=\"${attrs[attr].join(\" \")}\"`;\n        } else {\n          attrstr += ` ${attr}=\"${attrs[attr]}\"`;\n        }\n      }\n      let ret = `<${name}${attrstr}></${name}>`;\n      return ret;\n    });\n    return source;\n  }\n}\n\n\n//# sourceURL=webpack://@leuffen/jodastyle/./src/processor/jodashorts.ts?");

/***/ }),

/***/ "./src/processor/jodasplit.ts":
/*!************************************!*\
  !*** ./src/processor/jodasplit.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Jodasplit: () => (/* binding */ Jodasplit)\n/* harmony export */ });\n/* harmony import */ var _kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @kasimirjs/embed */ \"../kasi-embed/index.ts\");\n/* harmony import */ var _LayoutProcessor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./LayoutProcessor */ \"./src/processor/LayoutProcessor.ts\");\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _target, _parents, _currentParent, _currentContent, _currentChildren;\n\n\nclass Jodasplit {\n  constructor(logger) {\n    this.logger = logger;\n    __privateAdd(this, _target, document.createDocumentFragment());\n    __privateAdd(this, _parents, [__privateGet(this, _target)]);\n    __privateAdd(this, _currentParent, (0,_kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__.ka_create_element)(\"section\", { class: \"section-h1pre\" }));\n    __privateAdd(this, _currentContent, (0,_kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__.ka_create_element)(\"div\", { class: \"content\" }, [], __privateGet(this, _currentParent)));\n    __privateAdd(this, _currentChildren, (0,_kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__.ka_create_element)(\"div\", { class: \"children\" }, [], __privateGet(this, _currentParent)));\n  }\n  findParentElement(layer) {\n    while (__privateGet(this, _parents).length > layer) {\n      __privateGet(this, _parents).pop();\n    }\n    while (__privateGet(this, _parents)[__privateGet(this, _parents).length - 1] === void 0) {\n      __privateGet(this, _parents).pop();\n    }\n    return __privateGet(this, _parents)[__privateGet(this, _parents).length - 1];\n  }\n  createNewElement(tagName, layer, tag) {\n    tagName = tagName.toLowerCase();\n    let curParent = this.findParentElement(layer);\n    let curParentChildren = curParent.childNodes[1];\n    __privateSet(this, _currentParent, (0,_kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__.ka_create_element)(tag, { class: \"section-\" + tagName }));\n    while (__privateGet(this, _parents).length < layer) {\n      __privateGet(this, _parents).push(void 0);\n    }\n    __privateGet(this, _parents).push(__privateGet(this, _currentParent));\n    if (curParent === __privateGet(this, _target)) {\n      curParent.appendChild(__privateGet(this, _currentParent));\n    } else {\n      curParentChildren.append(__privateGet(this, _currentParent));\n    }\n    __privateSet(this, _currentContent, (0,_kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__.ka_create_element)(\"div\", { class: \"content\" }, [], __privateGet(this, _currentParent)));\n    __privateSet(this, _currentChildren, (0,_kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__.ka_create_element)(\"div\", { class: \"children\" }, [], __privateGet(this, _currentParent)));\n    return __privateGet(this, _currentParent);\n  }\n  process(source) {\n    let lastLayer = 1;\n    __privateGet(this, _target).append(__privateGet(this, _currentParent));\n    let layoutProcessor = new _LayoutProcessor__WEBPACK_IMPORTED_MODULE_1__.LayoutProcessor(this.logger);\n    Array.from(source.children).forEach((child) => {\n      if (child instanceof HTMLElement && child.matches(\"footer\")) {\n        __privateGet(this, _target).appendChild(child);\n        return;\n      }\n      if (child instanceof HTMLElement && child.matches(\"h1, h2, h3, h4, h5, h6, h7, h8, h9, hr, .section-h2, .section-h3, .section-h4\")) {\n        let layer = 1;\n        let tag = \"div\";\n        if (child.matches(\"h1,h2,.section-h2\")) {\n          layer = lastLayer = 1;\n          tag = \"section\";\n        } else if (child.matches(\"h3, h4, h5, h6, h7, h8, h9, .section-h3, .section-h4\")) {\n          if (child.matches(\".section-h3\")) {\n            layer = lastLayer = 6;\n          } else if (child.matches(\".section-h4\")) {\n            layer = lastLayer = 8;\n          } else {\n            layer = lastLayer = parseInt(child.tagName.substr(1)) * 2;\n          }\n          tag = \"div\";\n        } else if (child.matches(\"hr\")) {\n          layer = lastLayer + 1;\n          tag = \"div\";\n        }\n        let e = this.createNewElement(child.tagName.toLowerCase(), layer, tag);\n        e.setAttribute(\"layout\", child.getAttribute(\"layout\") || \"\");\n        child.removeAttribute(\"layout\");\n        e.setAttribute(\"style\", child.getAttribute(\"style\") || \"\");\n        child.removeAttribute(\"style\");\n        e.classList.add(...child.classList);\n        child.setAttribute(\"orig-class\", child.getAttribute(\"class\") || \"\");\n        child.setAttribute(\"class\", \"\");\n        layoutProcessor.processNode(e);\n      }\n      if (child.tagName === \"HR\") {\n        child.setAttribute(\"orig-pre-split-class\", child.getAttribute(\"class\"));\n        child.setAttribute(\"class\", \"d-none\");\n      }\n      __privateGet(this, _currentContent).appendChild(child);\n    });\n    Array.from(__privateGet(this, _target).querySelectorAll(\".children\")).forEach((child) => {\n      if (child.children.length === 0) {\n        child.remove();\n      }\n    });\n    Array.from(__privateGet(this, _target).querySelectorAll(\".content\")).forEach((child) => {\n      if (child.children.length === 0) {\n        child.remove();\n      }\n    });\n    return __privateGet(this, _target);\n  }\n}\n_target = new WeakMap();\n_parents = new WeakMap();\n_currentParent = new WeakMap();\n_currentContent = new WeakMap();\n_currentChildren = new WeakMap();\n\n\n//# sourceURL=webpack://@leuffen/jodastyle/./src/processor/jodasplit.ts?");

/***/ }),

/***/ "./src/processor/jodastyle-commands.ts":
/*!*********************************************!*\
  !*** ./src/processor/jodastyle-commands.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   jodaStyleCommands: () => (/* binding */ jodaStyleCommands)\n/* harmony export */ });\n/* harmony import */ var _helper_ka_quick_template__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../helper/ka-quick-template */ \"./src/helper/ka-quick-template.ts\");\n/* harmony import */ var _helper_functions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helper/functions */ \"./src/helper/functions.ts\");\n/* harmony import */ var _kasimirjs_embed__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @kasimirjs/embed */ \"../kasi-embed/index.ts\");\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n\n\nlet jodaStyleCommands = {};\njodaStyleCommands[\"--joda-replace-by\"] = (value, target, element, logger) => {\n  let parent = element.parentElement;\n  let ret = (0,_helper_ka_quick_template__WEBPACK_IMPORTED_MODULE_0__.createElementTree)(value);\n  parent.replaceChild(ret.start, element);\n  Array.from(element.children).forEach((child) => {\n    ret.leaf.append(child);\n  });\n  element.remove();\n  return ret.leaf;\n};\njodaStyleCommands[\"--joda-wrap\"] = (value, target, element, logger) => {\n  let parent = element.parentElement;\n  if (value.startsWith(\"#\")) {\n    let placeholder = document.createElement(\"div\");\n    parent.insertBefore(placeholder, element);\n    let newElement = (0,_helper_functions__WEBPACK_IMPORTED_MODULE_1__.getTemplateFilledWithContent)(value, element, element);\n    placeholder.replaceWith(newElement);\n    return element;\n  } else {\n    let ret = (0,_helper_ka_quick_template__WEBPACK_IMPORTED_MODULE_0__.createElementTree)(value);\n    parent.replaceChild(ret.start, element);\n    ret.leaf.append(element);\n    return element;\n  }\n};\njodaStyleCommands[\"--joda-container\"] = (value, target, element, logger) => {\n  let ret = (0,_helper_ka_quick_template__WEBPACK_IMPORTED_MODULE_0__.createElementTree)(value);\n  Array.from(element.children).forEach((child) => {\n    ret.leaf.append(child);\n  });\n  element.append(ret.start);\n  return element;\n};\njodaStyleCommands[\"--joda-unwrap\"] = (value, target, element, logger) => {\n  let parent = element.parentElement;\n  let grandParent = parent.parentElement;\n  grandParent.insertBefore(element, parent);\n  if (parent.children.length === 0) {\n    parent.remove();\n  }\n  return element;\n};\njodaStyleCommands[\"--joda-group\"] = (value, target, element, logger) => {\n  const groupByKey = \"jodaIsGroupedBy\";\n  if (element[groupByKey] !== void 0) {\n    return element;\n  }\n  let siblings = [];\n  let curSibling = element.nextElementSibling;\n  while (curSibling && (0,_helper_functions__WEBPACK_IMPORTED_MODULE_1__.getCleanVariableValue)(getComputedStyle(curSibling).getPropertyValue(\"--joda-group\")) === value) {\n    siblings.push(curSibling);\n    curSibling[groupByKey] = true;\n    curSibling = curSibling.nextElementSibling;\n  }\n  let parent = element.parentElement;\n  let ret = (0,_helper_ka_quick_template__WEBPACK_IMPORTED_MODULE_0__.createElementTree)(value);\n  element.parentElement.insertBefore(ret.start, element);\n  ret.leaf.append(element);\n  siblings.forEach((sibling) => {\n    ret.leaf.append(sibling);\n  });\n  return element;\n};\njodaStyleCommands[\"--joda-class\"] = (value, target, element, logger) => {\n  let ret = (0,_helper_ka_quick_template__WEBPACK_IMPORTED_MODULE_0__.createElementTree)(value);\n  element.setAttribute(\"class\", element.getAttribute(\"class\") + \" \" + value);\n  return element;\n};\njodaStyleCommands[\"--joda-use\"] = (value, target, element, logger) => __async(void 0, null, function* () {\n  if (value.startsWith(\"#\")) {\n    let placeholder = document.createElement(\"div\");\n    Array.from(element.children).forEach((child) => {\n      placeholder.append(child);\n    });\n    let newElement = (0,_helper_functions__WEBPACK_IMPORTED_MODULE_1__.getTemplateFilledWithContent)(value, placeholder, element);\n    element.append(newElement);\n    return element;\n  }\n  let matches = value.match(/([a-z0-9\\_-]+)\\s*\\((.*?)\\)/);\n  if (!matches) {\n    console.error(\"Invalid --joda-use command: \", value, \"in element\", element, \" should be in format: commandName(arg1: value1, arg2: value2, ...)\");\n    throw \"Invalid --joda-use command: \" + value + \" should be in format: commandName(arg1: value1, arg2: value2, ...)\";\n  }\n  logger.log(\"Using renderer: \", matches[1], \"with args: \", matches[2], \"on element\", element);\n  let commandName = matches[1];\n  let args = (0,_kasimirjs_embed__WEBPACK_IMPORTED_MODULE_2__.ka_eval)(\"{\" + matches[2] + \"}\", {}, target, {});\n  let command = yield (0,_helper_functions__WEBPACK_IMPORTED_MODULE_1__.await_property)(window, [\"jodastyle\", \"renderer\", commandName]);\n  let config = new command.config();\n  let style = getComputedStyle(element);\n  Object.keys(config).forEach((key) => {\n    let val = style.getPropertyValue(\"--layout-\" + key.replace(/\\_/g, \"-\"));\n    if (val !== \"\") {\n      config[key] = val.replace(/^[\"']/g, \"\").replace(/[\"']$/, \"\").trim();\n    }\n  });\n  Object.assign(config, args);\n  return yield new command.renderer().render(element, config);\n});\n\n\n//# sourceURL=webpack://@leuffen/jodastyle/./src/processor/jodastyle-commands.ts?");

/***/ }),

/***/ "./src/processor/jodastyle.ts":
/*!************************************!*\
  !*** ./src/processor/jodastyle.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Jodastyle: () => (/* binding */ Jodastyle)\n/* harmony export */ });\n/* harmony import */ var _jodastyle_commands__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./jodastyle-commands */ \"./src/processor/jodastyle-commands.ts\");\n/* harmony import */ var _helper_functions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helper/functions */ \"./src/helper/functions.ts\");\n/* harmony import */ var _kasimirjs_embed__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @kasimirjs/embed */ \"../kasi-embed/index.ts\");\n/* harmony import */ var _helper_JodaElementException__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../helper/JodaElementException */ \"./src/helper/JodaElementException.ts\");\n/* harmony import */ var _helper_JodaErrorElement__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../helper/JodaErrorElement */ \"./src/helper/JodaErrorElement.ts\");\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n\n\n\n\nclass Jodastyle {\n  constructor(logger) {\n    this.logger = logger;\n  }\n  process(node) {\n    return __async(this, null, function* () {\n      for (let child of Array.from(node.getElementsByTagName(\"joda-split\"))) {\n        while (child[\"ready\"] !== true) {\n          yield (0,_kasimirjs_embed__WEBPACK_IMPORTED_MODULE_2__.ka_sleep)(5);\n        }\n      }\n      for (let child of [node, ...Array.from(node.querySelectorAll(\"*\"))]) {\n        let style = getComputedStyle(child);\n        let keys = Object.keys(_jodastyle_commands__WEBPACK_IMPORTED_MODULE_0__.jodaStyleCommands);\n        for (let key of Array.from(keys)) {\n          let styleValue = style.getPropertyValue(key);\n          if (styleValue === \"\") {\n            continue;\n          }\n          if (styleValue === getComputedStyle(child.parentElement).getPropertyValue(key)) {\n            continue;\n          }\n          styleValue = (0,_helper_functions__WEBPACK_IMPORTED_MODULE_1__.getCleanVariableValue)(styleValue);\n          let command = _jodastyle_commands__WEBPACK_IMPORTED_MODULE_0__.jodaStyleCommands[key];\n          try {\n            child = yield command(styleValue, node, child, this.logger);\n          } catch (e) {\n            if (e instanceof _helper_JodaElementException__WEBPACK_IMPORTED_MODULE_3__.JodaElementException) {\n              e.triggerCommand = key + \": \" + styleValue;\n              this.logger.warn(e.message, e.element);\n              child.replaceWith(new _helper_JodaErrorElement__WEBPACK_IMPORTED_MODULE_4__.JodaErrorElement(e.message + \" (trigger by: \" + e.triggerCommand + \")\"));\n            } else {\n              this.logger.warn(\"Unhandled exception\", e, \"on element\", child, \"triggered by\", key + \": \" + styleValue);\n              throw e;\n            }\n          }\n        }\n      }\n    });\n  }\n}\n\n\n//# sourceURL=webpack://@leuffen/jodastyle/./src/processor/jodastyle.ts?");

/***/ }),

/***/ "./src/processor/jodavisualize.ts":
/*!****************************************!*\
  !*** ./src/processor/jodavisualize.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Jodavisualize: () => (/* binding */ Jodavisualize)\n/* harmony export */ });\n/* harmony import */ var _kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @kasimirjs/embed */ \"../kasi-embed/index.ts\");\n\nclass Jodavisualize {\n  process(element) {\n    [element, ...Array.from(element.querySelectorAll(\"*\"))].forEach((e) => {\n      e.insertBefore((0,_kasimirjs_embed__WEBPACK_IMPORTED_MODULE_0__.ka_create_element)(\"div\", { class: \"joda-visualize\" }, `<${e.tagName.toLowerCase()}  class=\"${Array.from(e.classList).join(\", \")}\">`), e.firstElementChild);\n    });\n  }\n}\n\n\n//# sourceURL=webpack://@leuffen/jodastyle/./src/processor/jodavisualize.ts?");

/***/ }),

/***/ "./src/types/DefaultLayout.ts":
/*!************************************!*\
  !*** ./src/types/DefaultLayout.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultLayout: () => (/* binding */ DefaultLayout)\n/* harmony export */ });\nclass DefaultLayout {\n  constructor() {\n    this.container = \"container\";\n    this.break1 = \"xl\";\n  }\n}\n\n\n//# sourceURL=webpack://@leuffen/jodastyle/./src/types/DefaultLayout.ts?");

/***/ }),

/***/ "./src/vendor/LeuCDNImageProc.ts":
/*!***************************************!*\
  !*** ./src/vendor/LeuCDNImageProc.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LeuCDNImageProc: () => (/* binding */ LeuCDNImageProc)\n/* harmony export */ });\nclass LeuCDNImageProc {\n  isSuitable(url) {\n    return url.startsWith(\"cdn\") || url.startsWith(\"data:image,cdn\");\n  }\n  parseUrl(url) {\n    let ret = {\n      formats: [],\n      resolutions: []\n    };\n    url = url.replace(\"cdn+https://\", \"https://\");\n    url = url.replace(\"cdn://\", \"https://cdn.leuffen.de\");\n    url = url.replace(/\\/(([0-9]+x[0-9]+|[,_])+)\\//ig, (p0, sizes) => {\n      sizes.split(/[,_]/g).forEach((size) => {\n        ret.resolutions.push(\n          {\n            width: parseInt(size.split(\"x\")[0]),\n            height: parseInt(size.split(\"x\")[1])\n          }\n        );\n      });\n      return \"/@size@/\";\n    });\n    ret.resolutions.sort((a, b) => {\n      if (a.width < b.width)\n        return -1;\n      if (a.width > b.width)\n        return 1;\n      return 0;\n    });\n    url = url.replace(/([a-z0-9_\\-]+)\\.([a-z0-9\\,_]+)$/ig, (p0, name, formats) => {\n      ret.formats = formats.replace(/,/gm, \"_\").split(\"_\");\n      ret.filename = name;\n      ret[\"__filename\"] = name;\n      ret.alt = name.replace(/_+/, \" \");\n      return \"@file@\";\n    });\n    ret.getUrl = (resolution, format) => {\n      let loadUrl = url.replace(/@size@/g, resolution.width + \"x\" + resolution.height);\n      loadUrl = loadUrl.replace(/@file@/g, ret.filename + \".\" + format);\n      return loadUrl;\n    };\n    return ret;\n  }\n}\n\n\n//# sourceURL=webpack://@leuffen/jodastyle/./src/vendor/LeuCDNImageProc.ts?");

/***/ }),

/***/ "./index.ts":
/*!******************!*\
  !*** ./index.ts ***!
  \******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/index */ \"./src/index.ts\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _src_index__WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _src_index__WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\n\n\n//# sourceURL=webpack://@leuffen/jodastyle/./index.ts?");

/***/ }),

/***/ "../kasi-embed/index.ts":
/*!******************************!*\
  !*** ../kasi-embed/index.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/index */ \"../kasi-embed/src/index.ts\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _src_index__WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _src_index__WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\n\n\n\n//# sourceURL=webpack://@leuffen/jodastyle/../kasi-embed/index.ts?");

/***/ }),

/***/ "../kasi-embed/src/ce/custom-element.js":
/*!**********************************************!*\
  !*** ../kasi-embed/src/ce/custom-element.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KaCustomElement: () => (/* binding */ KaCustomElement)\n/* harmony export */ });\n/* harmony import */ var _tpl_templatify_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tpl/templatify.js */ \"../kasi-embed/src/tpl/templatify.js\");\n/* harmony import */ var _tpl_template_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tpl/template.js */ \"../kasi-embed/src/tpl/template.js\");\n/* harmony import */ var _core_query_select__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/query-select */ \"../kasi-embed/src/core/query-select.ts\");\n/* harmony import */ var _core_query_select__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_core_query_select__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _htmlFile__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./htmlFile */ \"../kasi-embed/src/ce/htmlFile.ts\");\n/* harmony import */ var _htmlFile__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_htmlFile__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\nclass KaCustomElement extends HTMLElement {\n\n    constructor(props) {\n        super(props);\n\n        /**\n         *\n         * @protected\n         * @var {KaTemplate}\n         */\n        this.__tpl = null;\n\n        this.__isConnected = false;\n    }\n\n    /**\n     * The Template associated with this Element\n     *\n     * @return {KaTemplate}\n     */\n    get $tpl () {\n        return this.__tpl\n    }\n\n    isConnected() {\n        return this.isConnected;\n    }\n\n    /**\n     * @abstract\n     * @return {Promise<void>}\n     */\n    async connected($tpl, $this) {\n        console.warn(\"connected() method not overridden in\", this);\n    }\n\n    async connectedCallback() {\n        let callback = this.constructor.__callback;\n        if (callback === null) {\n        } else {\n            callback.bind(this);\n        }\n\n        if (this.constructor.__tpl !== null) {\n            let origTpl = this.constructor.__tpl;\n            if (origTpl instanceof _htmlFile__WEBPACK_IMPORTED_MODULE_3__.RemoteTemplate)\n                origTpl = await origTpl.load();\n\n            let tpl = (0,_tpl_templatify_js__WEBPACK_IMPORTED_MODULE_0__.ka_templatify)(origTpl);\n\n            if (this.constructor.__options.shadowDom === true) {\n                let shadowDom = this.attachShadow(this.constructor.__options.shadowDomOptions);\n                shadowDom.appendChild(tpl);\n            } else {\n                this.appendChild(tpl);\n            }\n\n            this.__tpl = new _tpl_template_js__WEBPACK_IMPORTED_MODULE_1__.KaTemplate(tpl);\n        }\n\n        if (this.constructor.__options.waitEvent !== null) {\n            let wd = this.constructor.__options.waitEvent.split(\"@\");\n            let eventName = wd[0];\n            let target = document;\n            if (wd.length === 2) {\n                target = (0,_core_query_select__WEBPACK_IMPORTED_MODULE_2__.ka_query_selector)(wd[1]);\n            }\n            target.addEventListener(eventName, async (event) => {\n                callback(this.$tpl, this);\n                this.__isConnected = true;\n            })\n            return;\n        }\n\n        if (callback === null) {\n            // Class: Call connected() Method\n            await this.connected(this.$tpl, this);\n            this.__isConnected = true;\n            return\n        }\n\n        // Function\n        callback(this.$tpl, this);\n        this.__isConnected = true;\n    }\n\n};\n\n\n//# sourceURL=webpack://@leuffen/jodastyle/../kasi-embed/src/ce/custom-element.js?");

/***/ }),

/***/ "../kasi-embed/src/ce/html.ts":
/*!************************************!*\
  !*** ../kasi-embed/src/ce/html.ts ***!
  \************************************/
/***/ (() => {

eval("throw new Error(\"Module parse failed: Unexpected token (2:36)\\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\\n| \\n> export function ka_html(htmlContent : string | HTMLTemplateElement) : HTMLTemplateElement {\\n|     if (htmlContent instanceof HTMLTemplateElement) {\\n|         return htmlContent;\");\n\n//# sourceURL=webpack://@leuffen/jodastyle/../kasi-embed/src/ce/html.ts?");

/***/ }),

/***/ "../kasi-embed/src/ce/htmlFile.ts":
/*!****************************************!*\
  !*** ../kasi-embed/src/ce/htmlFile.ts ***!
  \****************************************/
/***/ (() => {

eval("throw new Error(\"Module parse failed: Unexpected token (5:13)\\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\\n| \\n| export class RemoteTemplate {\\n>     private  tpl: null | HTMLElement;\\n|     constructor(\\n|         public url : string\");\n\n//# sourceURL=webpack://@leuffen/jodastyle/../kasi-embed/src/ce/htmlFile.ts?");

/***/ }),

/***/ "../kasi-embed/src/core/apply.js":
/*!***************************************!*\
  !*** ../kasi-embed/src/core/apply.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ka_apply: () => (/* binding */ ka_apply)\n/* harmony export */ });\n/* harmony import */ var _eval_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./eval.js */ \"../kasi-embed/src/core/eval.js\");\n/* harmony import */ var _str_to_camelcase_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./str-to-camelcase.js */ \"../kasi-embed/src/core/str-to-camelcase.js\");\n/* harmony import */ var _functions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../functions */ \"../kasi-embed/src/functions.ts\");\n/* harmony import */ var _functions__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_functions__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _element_KaCustomFragment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../element/KaCustomFragment */ \"../kasi-embed/src/element/KaCustomFragment.ts\");\n/* harmony import */ var _element_KaCustomFragment__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_element_KaCustomFragment__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\n\nfunction ka_apply (selector, scope, recursive=false) {\n    if (typeof selector === \"string\")\n        selector = KaToolsV1.querySelector(selector);\n\n    let attMap = {\n        \"textcontent\": \"textContent\",\n        \"htmlcontent\": \"innerHTML\",\n        \"innerhtml\": \"innerHTML\",\n    }\n\n    for(let attName of selector.getAttributeNames()) {\n        //console.log(attName);\n        if ( ! attName.startsWith(\"ka.\")) {\n            continue;\n        }\n\n        let attVal = selector.getAttribute(attName);\n\n        let attType = attName.split(\".\")[1];\n        let attSelector = attName.split(\".\")[2];\n        if (typeof attSelector === \"undefined\")\n            attSelector = null;\n\n\n        let registerEventHandler = function(element, action, callbackOrCode, scope) {\n            if (typeof element._ka_on === \"undefined\")\n                element._ka_on = {};\n\n            if (typeof element._ka_on[action] === \"undefined\")\n                element.addEventListener(action, (e) => element._ka_on[action](e));\n\n            element._ka_on[action] = async(e) => {\n                scope[\"$event\"] = e;\n                if (typeof callbackOrCode === \"function\") {\n                    return callbackOrCode(e, element, scope);\n                } else {\n                    return (0,_eval_js__WEBPACK_IMPORTED_MODULE_0__.ka_eval)(callbackOrCode, scope, element);\n                }\n            };\n        }\n\n        if (attType === \"on\") {\n            let attScope = {$scope: scope, ...scope}\n            if (attSelector !== null) {\n                registerEventHandler(selector, attSelector, attVal, attScope);\n            } else {\n                let callBackMap = KaToolsV1.eval(attVal, attScope, selector);\n                for(let curAction in callBackMap) {\n                    registerEventHandler(selector, curAction, callBackMap[curAction], attScope);\n                }\n\n            }\n            continue;\n        }\n\n        let r = null;\n        if (typeof attVal !== \"undefined\" && typeof attVal !== null && attVal !== \"\")\n            r = (0,_eval_js__WEBPACK_IMPORTED_MODULE_0__.ka_eval)(attVal, scope, selector);\n\n        switch (attType) {\n            case \"use\":\n                if ( ! (selector instanceof KaUse)) {\n                    console.error(\"ka.use is only available on <ka-use/> Elements: Used on \", r, \"found in \", selector);\n                    throw \"ka.use called on non <ka-use/> Element.\"\n                }\n\n                selector.use(r, scope)\n                continue;\n\n            case \"become\":\n                if ( ! (r instanceof HTMLElement)) {\n                    console.error(\"ka.become is only available on HTMLElements: Used on \", r, \"found in \", selector);\n                    throw \"ka.become called on non HTMLElement.\"\n                }\n                let attributes = selector.attributes;\n\n                selector.replaceWith(r);\n\n                continue;\n\n            case \"content\":\n                selector.setAttribute(\"ka.stop\", \"\");\n                if (typeof r === \"string\") {\n                    selector.innerHTML = r;\n                    continue;\n                }\n                if ( ! (r instanceof HTMLElement)) {\n                    console.error(\"ka.content is only available on HTMLElements: Used on \", r, \"found in \", selector);\n                    throw \"ka.content called on non HTMLElement.\"\n                }\n                selector.append(r);\n                continue;\n\n            case \"scope\":\n                if ( ! (r instanceof Object)) {\n                    console.error(\"ka.scope must be object type <ka-use/> Elements: Value is \", r, \"found in \", selector);\n                    throw \"ka.scope insuffient value\";\n                }\n\n                selector.setScope(r);\n                continue;\n\n            case \"stop\":\n                continue;\n\n            case \"debug\":\n                console.log(\"ka.debug on element\", selector, \"value:\", r, \"scope:\", scope);\n                continue;\n\n            case \"ref\":\n                if ((0,_functions__WEBPACK_IMPORTED_MODULE_2__.isUndefined)(scope.$ref))\n                    scope.$ref = {};\n                // Allow ref without parameter to use $ref.$last\n                if (r !== null)\n                    scope.$ref[r] = selector;\n                scope.$ref.$last = selector;\n                break;\n\n            case \"classlist\":\n                if (attSelector  !== null) {\n                    if (r === true) {\n                        selector.classList.add(attSelector)\n                    } else {\n                        selector.classList.remove(attSelector)\n                    }\n                    break;\n                }\n                for (let cname in r) {\n                    if (r[cname] === true) {\n                        selector.classList.add(cname);\n                    } else {\n                        selector.classList.remove(cname);\n                    }\n                }\n                break;\n\n            case \"style\":\n\n                if (attSelector !== null && attSelector.startsWith(\"--\")) {\n                    selector.style.setProperty(attSelector, r);\n                    break;\n                }\n                if (attSelector  !== null) {\n                    let val = r;\n                    if (typeof val === \"number\" && [\"left\", \"top\", \"height\", \"width\", \"bottom\", \"right\", \"line-height\", \"font-size\"].indexOf(attSelector) !== -1)\n                        val = val + \"px\";\n                    selector.style[(0,_str_to_camelcase_js__WEBPACK_IMPORTED_MODULE_1__.ka_str_to_camel_case)(attSelector)] = val;\n                    break;\n                }\n                for (let cname in r) {\n                    let val = r[cname];\n                    if (typeof val === \"number\" && [\"left\", \"top\", \"height\", \"width\", \"bottom\", \"right\", \"line-height\", \"font-size\"].indexOf(cname) !== -1)\n                        val = val + \"px\";\n                    selector.style[(0,_str_to_camelcase_js__WEBPACK_IMPORTED_MODULE_1__.ka_str_to_camel_case)(cname)] = val;\n                }\n                break;\n\n            case \"bindarray\":\n                if (attSelector === \"default\")\n                    continue;\n                if ((0,_functions__WEBPACK_IMPORTED_MODULE_2__.isUndefined)(r)) {\n                    // Bind default values\n                    if (selector.hasAttribute(\"ka.bind.default\")) {\n                        scope = {$scope: scope, ...scope};\n                        scope = {$scope: scope, ...scope, __curVal: (0,_eval_js__WEBPACK_IMPORTED_MODULE_0__.ka_eval)(selector.getAttribute(\"ka.bind.default\"), scope, selector)}\n                        ;(0,_eval_js__WEBPACK_IMPORTED_MODULE_0__.ka_eval)(`${attVal} = __curVal`, scope, selector);\n                        r = scope.__curVal;\n                    }\n                }\n                if ( ! Array.isArray(r)) {\n                    console.error(\"kap:bindarr: Not an array!\", r, selector);\n                    return;\n                }\n                if (r.indexOf(selector.value) === -1)\n                    selector.checked = false;\n                else\n                    selector.checked = true;\n\n                if (typeof selector._kap_bind === \"undefined\") {\n                    selector.addEventListener(\"change\", (event) => {\n\n                        let arr = (0,_eval_js__WEBPACK_IMPORTED_MODULE_0__.ka_eval)(attVal, scope, selector);\n\n                        if (arr.indexOf(selector.value) === -1 && selector.checked)\n                            arr.push(selector.value);\n                        if (arr.indexOf(selector.value) !== -1 && ! selector.checked)\n                            arr = arr.filter((e) => e !== selector.value);\n                        scope = {$scope: scope, ...scope, __curVal: arr};\n                        (0,_eval_js__WEBPACK_IMPORTED_MODULE_0__.ka_eval)(`${attVal} = __curVal`, scope, selector);\n                        if (scope.$on && scope.$on.change)\n                            scope.$on.change(event);\n                    })\n                    selector._kap_bind = true;\n                }\n                break;\n\n            case \"bind\":\n                if (attSelector === \"default\")\n                    continue;\n                if ((0,_functions__WEBPACK_IMPORTED_MODULE_2__.isUndefined)(r)) {\n                    // Bind default values\n                    if ((0,_functions__WEBPACK_IMPORTED_MODULE_2__.isset) (selector.value)) {\n                        scope = {$scope: scope,...scope, __curVal: selector.value}\n                        ;(0,_eval_js__WEBPACK_IMPORTED_MODULE_0__.ka_eval)(`${attVal} = __curVal`, scope, selector);\n                        r = scope.__curVal;\n                    }\n                    if (selector.hasAttribute(\"ka.bind.default\")) {\n                        scope = {$scope: scope, ...scope};\n                        scope = {$scope: scope, ...scope, __curVal: (0,_eval_js__WEBPACK_IMPORTED_MODULE_0__.ka_eval)(selector.getAttribute(\"ka.bind.default\"), scope, selector)}\n                        ;(0,_eval_js__WEBPACK_IMPORTED_MODULE_0__.ka_eval)(`${attVal} = __curVal`, scope, selector);\n                        r = scope.__curVal;\n                    }\n                }\n                if (selector.type === \"checkbox\" || selector.type === \"radio\") {\n                    if (selector.hasAttribute(\"value\")) {\n                        if (r === selector.getAttribute(\"value\"))\n                            selector.checked = true;\n                        else\n                            selector.checked = false;\n                    } else {\n                        if (r === true)\n                            selector.checked = true;\n                        else\n                            selector.checked = false;\n                    }\n                } else {\n                    selector.value = typeof r !== \"undefined\" ? r : \"\";\n                }\n\n                if (typeof selector._kap_bind === \"undefined\") {\n                    selector.addEventListener(\"change\", (event) => {\n\n                        let value = null;\n                        if (selector.type === \"checkbox\" || selector.type === \"radio\") {\n                            if (selector.hasAttribute(\"value\")) {\n                                if (selector.checked === false)\n                                    return;\n                                value = selector.getAttribute(\"value\");\n                            } else {\n                                value = selector.checked\n                            }\n                        } else {\n                            value = selector.value\n                        }\n                        scope = {$scope: scope, ...scope, __curVal: value}\n                        ;(0,_eval_js__WEBPACK_IMPORTED_MODULE_0__.ka_eval)(`${attVal} = __curVal`, scope, selector);\n                        if (scope.$on && scope.$on.change)\n                            scope.$on.change(event);\n                    })\n                    selector.addEventListener(\"keyup\", (event) => {\n                        scope = {$scope: scope,...scope, __curVal: selector.value}\n                        ;(0,_eval_js__WEBPACK_IMPORTED_MODULE_0__.ka_eval)(`${attVal} = __curVal`, scope, selector);\n                        if (scope.$on && scope.$on.change)\n                            scope.$on.change(event);\n\n                    })\n                    selector._kap_bind = true;\n                }\n                break;\n\n            case \"options\":\n                let value = selector.value;\n                selector.innerHTML = \"\";\n                for (let option in r) {\n                    if (! Array.isArray(r)) {\n                        // Object key => value value => text\n                        selector.appendChild(new Option(r[option], option));\n                    } else {\n                        // Array\n                        if (typeof r[option].text !== \"undefined\") {\n                            selector.appendChild(new Option(r[option].text, r[option].value));\n                        } else {\n                            // Array value and text will be array value\n                            selector.appendChild(new Option(r[option], r[option]));\n                        }\n                    }\n                }\n                if (value !== null)\n                    selector.value = value;\n                break;\n\n            case \"attr\":\n                if (attSelector  !== null) {\n                    if (r === null || r === false) {\n                        selector.removeAttribute(attSelector)\n                    } else {\n                        selector.setAttribute(attSelector, r);\n                    }\n                    break;\n                }\n                for (let cname in r) {\n                    if (r[cname] ===null || r[cname] === false) {\n                        selector.removeAttribute(cname);\n                    } else {\n                        selector.setAttribute(cname, r[cname]);\n                    }\n                }\n                break;\n\n            case \"prop\":\n                if (attSelector  !== null) {\n                    // Set Property directly\n                    selector[(0,_str_to_camelcase_js__WEBPACK_IMPORTED_MODULE_1__.ka_str_to_camel_case)(attSelector)] = r;\n                    break;\n                }\n                for (let cname in r) {\n                    selector[(0,_str_to_camelcase_js__WEBPACK_IMPORTED_MODULE_1__.ka_str_to_camel_case)(cname)] = r[cname];\n                }\n                break;\n\n            default:\n                if (typeof attMap[attType] !== \"undefined\")\n                    attType = attMap[attType];\n                if (typeof selector[attType] === \"undefined\") {\n                    console.warn(\"apply(): trying to set undefined property \", attType, \"on element\", selector);\n                }\n                selector[attType] = r;\n                break;\n        }\n\n\n\n    }\n    if (recursive) {\n        for (let e of selector.children) {\n            ka_apply(e, scope, recursive);\n        }\n    }\n}\n\n\n//# sourceURL=webpack://@leuffen/jodastyle/../kasi-embed/src/core/apply.js?");

/***/ }),

/***/ "../kasi-embed/src/core/create-element.ts":
/*!************************************************!*\
  !*** ../kasi-embed/src/core/create-element.ts ***!
  \************************************************/
/***/ (() => {

eval("throw new Error(\"Module parse failed: Unexpected token (11:43)\\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\\n|  * @return HTMLElement\\n|  */\\n> export function ka_create_element (tagName : string, attributes : any = null,  children : HTMLElement[] | NodeList | string = null, appendToElement : ParentNode = null) : HTMLElement{\\n|     let e = document.createElement(tagName);\\n|     if (attributes === null)\");\n\n//# sourceURL=webpack://@leuffen/jodastyle/../kasi-embed/src/core/create-element.ts?");

/***/ }),

/***/ "../kasi-embed/src/core/debounce.ts":
/*!******************************************!*\
  !*** ../kasi-embed/src/core/debounce.ts ***!
  \******************************************/
/***/ (() => {

eval("throw new Error(\"Module parse failed: Unexpected token (3:35)\\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\\n| \\n| \\n> const _debounceInterval = {i: null as number|null, time: null as number|null};\\n| \\n| /**\");\n\n//# sourceURL=webpack://@leuffen/jodastyle/../kasi-embed/src/core/debounce.ts?");

/***/ }),

/***/ "../kasi-embed/src/core/debouncer.ts":
/*!*******************************************!*\
  !*** ../kasi-embed/src/core/debouncer.ts ***!
  \*******************************************/
/***/ (() => {

eval("throw new Error(\"Module parse failed: The keyword 'private' is reserved (4:17)\\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\\n| export class Debouncer {\\n| \\n>     constructor( private min : number = 100, private max : number = null) {\\n|     }\\n| \");\n\n//# sourceURL=webpack://@leuffen/jodastyle/../kasi-embed/src/core/debouncer.ts?");

/***/ }),

/***/ "../kasi-embed/src/core/dom-ready.ts":
/*!*******************************************!*\
  !*** ../kasi-embed/src/core/dom-ready.ts ***!
  \*******************************************/
/***/ (() => {

eval("throw new Error(\"Module parse failed: Unexpected token (12:38)\\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\\n|  * @return {Promise<string>}\\n|  */\\n> export async function ka_dom_ready () : Promise<string> {\\n|     return new Promise<string>((resolve) => {\\n|         if (document.readyState === \\\"complete\\\" || document.readyState === \\\"interactive\\\")\");\n\n//# sourceURL=webpack://@leuffen/jodastyle/../kasi-embed/src/core/dom-ready.ts?");

/***/ }),

/***/ "../kasi-embed/src/core/elwalk.js":
/*!****************************************!*\
  !*** ../kasi-embed/src/core/elwalk.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ka_elwalk: () => (/* binding */ ka_elwalk)\n/* harmony export */ });\n\n\n/**\n *\n * @param {HTMLElement} elem\n * @param fn\n * @param recursive\n */\nfunction ka_elwalk (elem, fn, recursive=false, includeFirst=false) {\n    if (Array.isArray(elem))\n        elem.children = elem;\n    if (typeof elem.children === \"undefined\")\n        return;\n    if (includeFirst && elem instanceof HTMLElement) {\n        let ret = fn(elem);\n        if (ret === false)\n            return false;\n    }\n    for(let child of elem.children) {\n        let ret = fn(child);\n        if (ret === false)\n            continue; // No recursiion\n\n        if (recursive && typeof child.children !== \"undefined\")\n            ka_elwalk(child, fn, recursive);\n\n    }\n}\n\n\n//# sourceURL=webpack://@leuffen/jodastyle/../kasi-embed/src/core/elwalk.js?");

/***/ }),

/***/ "../kasi-embed/src/core/eval.js":
/*!**************************************!*\
  !*** ../kasi-embed/src/core/eval.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ka_eval: () => (/* binding */ ka_eval)\n/* harmony export */ });\n\nfunction ka_eval (stmt, __scope, e, __refs) {\n    if (stmt.endsWith(\";\"))\n        stmt = stmt.slice(0, -1);\n\n    const reserved = [\"var\", \"null\", \"let\", \"const\", \"function\", \"class\", \"in\", \"of\", \"for\", \"true\", \"false\", \"await\", \"$this\"];\n    let r = \"var $this = e;\";\n    for (let __name in __scope) {\n        if (reserved.indexOf(__name) !== -1)\n            continue;\n        if (__name.indexOf(\"-\") !== -1) {\n            console.error(`Invalid scope key '${__name}': Cannot contain - in scope:`, __scope);\n            throw `eval() failed: Invalid scope key: '${__name}': Cannot contain minus char '-'`;\n        }\n        r += `var ${__name} = __scope['${__name}'];`\n    }\n    // If the scope was cloned, the original will be in $scope. This is important when\n    // Using events [on.click], e.g.\n    if (typeof __scope.$scope === \"undefined\") {\n        r += \"var $scope = __scope;\";\n    }\n    try {\n        // console.log(r + '(' + stmt + ')');\n        return eval(r  + '('+stmt+')')\n    } catch (ex) {\n        console.error(\"cannot eval() stmt: '\" + stmt + \"': \" + ex, \" on element \", e, ex, \"(context:\", __scope, \")\");\n        throw \"eval('\" + stmt + \"') failed: \" + ex;\n    }\n}\n\n\n//# sourceURL=webpack://@leuffen/jodastyle/../kasi-embed/src/core/eval.js?");

/***/ }),

/***/ "../kasi-embed/src/core/ka-set-options.ts":
/*!************************************************!*\
  !*** ../kasi-embed/src/core/ka-set-options.ts ***!
  \************************************************/
/***/ (() => {

eval("throw new Error(\"Module parse failed: Unexpected token (3:39)\\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\\n| \\n| \\n> export function ka_set_options(element : HTMLSelectElement, options: any, value : string | null = null) {\\n|     element.innerHTML = \\\"\\\";\\n|     for (let option in options) {\");\n\n//# sourceURL=webpack://@leuffen/jodastyle/../kasi-embed/src/core/ka-set-options.ts?");

/***/ }),

/***/ "../kasi-embed/src/core/query-select.ts":
/*!**********************************************!*\
  !*** ../kasi-embed/src/core/query-select.ts ***!
  \**********************************************/
/***/ (() => {

eval("throw new Error(\"Module parse failed: Unexpected token (10:41)\\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\\n|  * @return {HTMLElement}\\n|  */\\n> export function ka_query_selector (query : string, parent : HTMLElement | Document | DocumentFragment  = null, exception : any = null) : HTMLElement{\\n|     if (typeof exception === \\\"undefined\\\")\\n|         exception = `querySelector '${query}' not found`\");\n\n//# sourceURL=webpack://@leuffen/jodastyle/../kasi-embed/src/core/query-select.ts?");

/***/ }),

/***/ "../kasi-embed/src/core/sleep.ts":
/*!***************************************!*\
  !*** ../kasi-embed/src/core/sleep.ts ***!
  \***************************************/
/***/ (() => {

eval("throw new Error(\"Module parse failed: Unexpected token (2:39)\\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\\n| \\n> export async function ka_sleep(sleepms : number) : Promise<void> {\\n|     return new Promise<void>((resolve) => {\\n|         window.setTimeout(() => {\");\n\n//# sourceURL=webpack://@leuffen/jodastyle/../kasi-embed/src/core/sleep.ts?");

/***/ }),

/***/ "../kasi-embed/src/core/storage.ts":
/*!*****************************************!*\
  !*** ../kasi-embed/src/core/storage.ts ***!
  \*****************************************/
/***/ (() => {

eval("throw new Error(\"Module parse failed: Unexpected token (6:34)\\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\\n|  * @param scopeName\\n|  */\\n> export function ka_session_storage<T>(object : T | null, scopeName : string = null) : T {\\n|     if (scopeName == null) {\\n|         scopeName = \\\"ka_session_storage\\\";\");\n\n//# sourceURL=webpack://@leuffen/jodastyle/../kasi-embed/src/core/storage.ts?");

/***/ }),

/***/ "../kasi-embed/src/core/str-to-camelcase.js":
/*!**************************************************!*\
  !*** ../kasi-embed/src/core/str-to-camelcase.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ka_str_to_camel_case: () => (/* binding */ ka_str_to_camel_case)\n/* harmony export */ });\n\n\n/**\n * Transform any input to CamelCase\n *\n * Example: some-class => someClass\n *\n * @param str {string}\n * @return {string}\n */\nfunction ka_str_to_camel_case (str) {\n    return str.replace(/(?:^\\w|[A-Z]|\\b\\w)/g, (ltr, idx) => idx === 0 ? ltr.toLowerCase() : ltr.toUpperCase()).replace(/[^a-zA-Z0-9]+/g, '');\n}\n\n\n//# sourceURL=webpack://@leuffen/jodastyle/../kasi-embed/src/core/str-to-camelcase.js?");

/***/ }),

/***/ "../kasi-embed/src/element/KaCustomElement.ts":
/*!****************************************************!*\
  !*** ../kasi-embed/src/element/KaCustomElement.ts ***!
  \****************************************************/
/***/ (() => {

eval("throw new Error(\"Module parse failed: Unexpected token (11:12)\\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\\n| \\n| export class KaCustomElement extends HTMLElement {\\n>     private html : string = \\\"Undefined Template\\\";\\n|     protected readonly scope : KaScope = createScopeObject();\\n|     protected tplPrototype : HTMLElement = null;\");\n\n//# sourceURL=webpack://@leuffen/jodastyle/../kasi-embed/src/element/KaCustomElement.ts?");

/***/ }),

/***/ "../kasi-embed/src/element/KaCustomFragment.ts":
/*!*****************************************************!*\
  !*** ../kasi-embed/src/element/KaCustomFragment.ts ***!
  \*****************************************************/
/***/ (() => {

eval("throw new Error(\"Module parse failed: Unexpected token (10:14)\\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\\n| \\n| export class KaCustomFragment {\\n>     protected readonly scope : KaScope = createScopeObject();\\n|     protected html : string = null\\n|     private tplPrototype : HTMLElement\");\n\n//# sourceURL=webpack://@leuffen/jodastyle/../kasi-embed/src/element/KaCustomFragment.ts?");

/***/ }),

/***/ "../kasi-embed/src/element/KaCustomModal.ts":
/*!**************************************************!*\
  !*** ../kasi-embed/src/element/KaCustomModal.ts ***!
  \**************************************************/
/***/ (() => {

eval("throw new Error(\"Module parse failed: Unexpected token (11:14)\\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\\n| \\n| export class KaCustomModal {\\n>     protected readonly scope : KaScope = createScopeObject();\\n|     private __html = \\\"<div>No Template defined</div>\\\"\\n|     private tplPrototype : HTMLElement\");\n\n//# sourceURL=webpack://@leuffen/jodastyle/../kasi-embed/src/element/KaCustomModal.ts?");

/***/ }),

/***/ "../kasi-embed/src/element/KaCustomWrapper.ts":
/*!****************************************************!*\
  !*** ../kasi-embed/src/element/KaCustomWrapper.ts ***!
  \****************************************************/
/***/ (() => {

eval("throw new Error(\"Module parse failed: Unexpected token (11:14)\\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\\n| \\n| export class KaCustomWrapper {\\n>     protected readonly scope : KaScope = createScopeObject();\\n|     protected html : string = null\\n|     private tplPrototype : HTMLElement\");\n\n//# sourceURL=webpack://@leuffen/jodastyle/../kasi-embed/src/element/KaCustomWrapper.ts?");

/***/ }),

/***/ "../kasi-embed/src/element/KaHtmlElement.ts":
/*!**************************************************!*\
  !*** ../kasi-embed/src/element/KaHtmlElement.ts ***!
  \**************************************************/
/***/ (() => {

eval("throw new Error(\"Module parse failed: Unexpected token (10:7)\\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\\n|  * @deprecated\\n|  */\\n> export abstract class KaHtmlElement extends HTMLElement implements AbstractElement  {\\n| \\n|     constructor(\");\n\n//# sourceURL=webpack://@leuffen/jodastyle/../kasi-embed/src/element/KaHtmlElement.ts?");

/***/ }),

/***/ "../kasi-embed/src/element/KaModal.ts":
/*!********************************************!*\
  !*** ../kasi-embed/src/element/KaModal.ts ***!
  \********************************************/
/***/ (() => {

eval("throw new Error(\"Module parse failed: Unexpected token (11:14)\\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\\n| \\n| export class KaModal {\\n>     protected readonly scope = createScopeObject();\\n| \\n|     public element : HTMLElement;\");\n\n//# sourceURL=webpack://@leuffen/jodastyle/../kasi-embed/src/element/KaModal.ts?");

/***/ }),

/***/ "../kasi-embed/src/functions.ts":
/*!**************************************!*\
  !*** ../kasi-embed/src/functions.ts ***!
  \**************************************/
/***/ (() => {

eval("throw new Error(\"Module parse failed: Unexpected token (19:28)\\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\\n|  * @param input\\n|  */\\n> export function isset(input : any) : boolean {\\n|     return  (typeof input !== \\\"undefined\\\" && input !== null)\\n| }\");\n\n//# sourceURL=webpack://@leuffen/jodastyle/../kasi-embed/src/functions.ts?");

/***/ }),

/***/ "../kasi-embed/src/index.ts":
/*!**********************************!*\
  !*** ../kasi-embed/src/index.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KaTemplate: () => (/* reexport safe */ _tpl_template__WEBPACK_IMPORTED_MODULE_12__.KaTemplate),\n/* harmony export */   ka_dom_ready: () => (/* reexport safe */ _core_dom_ready__WEBPACK_IMPORTED_MODULE_6__.ka_dom_ready),\n/* harmony export */   ka_eval: () => (/* reexport safe */ _core_eval__WEBPACK_IMPORTED_MODULE_15__.ka_eval),\n/* harmony export */   ka_templatify: () => (/* reexport safe */ _tpl_templatify__WEBPACK_IMPORTED_MODULE_17__.ka_templatify)\n/* harmony export */ });\n/* harmony import */ var _functions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./functions */ \"../kasi-embed/src/functions.ts\");\n/* harmony import */ var _functions__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_functions__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _functions__WEBPACK_IMPORTED_MODULE_0__) if([\"default\",\"ka_dom_ready\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _functions__WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./types */ \"../kasi-embed/src/types.ts\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _types__WEBPACK_IMPORTED_MODULE_1__) if([\"default\",\"ka_dom_ready\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _types__WEBPACK_IMPORTED_MODULE_1__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _core_sleep__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./core/sleep */ \"../kasi-embed/src/core/sleep.ts\");\n/* harmony import */ var _core_sleep__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_core_sleep__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _core_sleep__WEBPACK_IMPORTED_MODULE_2__) if([\"default\",\"ka_dom_ready\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _core_sleep__WEBPACK_IMPORTED_MODULE_2__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _core_debounce__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./core/debounce */ \"../kasi-embed/src/core/debounce.ts\");\n/* harmony import */ var _core_debounce__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_core_debounce__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _core_debounce__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"ka_dom_ready\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _core_debounce__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _core_create_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./core/create-element */ \"../kasi-embed/src/core/create-element.ts\");\n/* harmony import */ var _core_create_element__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_core_create_element__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _core_create_element__WEBPACK_IMPORTED_MODULE_4__) if([\"default\",\"ka_dom_ready\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _core_create_element__WEBPACK_IMPORTED_MODULE_4__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _core_ka_set_options__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./core/ka-set-options */ \"../kasi-embed/src/core/ka-set-options.ts\");\n/* harmony import */ var _core_ka_set_options__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_core_ka_set_options__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _core_ka_set_options__WEBPACK_IMPORTED_MODULE_5__) if([\"default\",\"ka_dom_ready\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _core_ka_set_options__WEBPACK_IMPORTED_MODULE_5__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _core_dom_ready__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./core/dom-ready */ \"../kasi-embed/src/core/dom-ready.ts\");\n/* harmony import */ var _core_dom_ready__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_core_dom_ready__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _element_KaHtmlElement__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./element/KaHtmlElement */ \"../kasi-embed/src/element/KaHtmlElement.ts\");\n/* harmony import */ var _element_KaHtmlElement__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_element_KaHtmlElement__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _element_KaHtmlElement__WEBPACK_IMPORTED_MODULE_7__) if([\"default\",\"ka_dom_ready\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _element_KaHtmlElement__WEBPACK_IMPORTED_MODULE_7__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _element_KaCustomElement__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./element/KaCustomElement */ \"../kasi-embed/src/element/KaCustomElement.ts\");\n/* harmony import */ var _element_KaCustomElement__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_element_KaCustomElement__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _element_KaCustomElement__WEBPACK_IMPORTED_MODULE_8__) if([\"default\",\"ka_dom_ready\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _element_KaCustomElement__WEBPACK_IMPORTED_MODULE_8__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _element_KaCustomFragment__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./element/KaCustomFragment */ \"../kasi-embed/src/element/KaCustomFragment.ts\");\n/* harmony import */ var _element_KaCustomFragment__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_element_KaCustomFragment__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _element_KaCustomFragment__WEBPACK_IMPORTED_MODULE_9__) if([\"default\",\"ka_dom_ready\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _element_KaCustomFragment__WEBPACK_IMPORTED_MODULE_9__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _element_KaCustomWrapper__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./element/KaCustomWrapper */ \"../kasi-embed/src/element/KaCustomWrapper.ts\");\n/* harmony import */ var _element_KaCustomWrapper__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_element_KaCustomWrapper__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _element_KaCustomWrapper__WEBPACK_IMPORTED_MODULE_10__) if([\"default\",\"ka_dom_ready\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _element_KaCustomWrapper__WEBPACK_IMPORTED_MODULE_10__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _element_KaCustomModal__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./element/KaCustomModal */ \"../kasi-embed/src/element/KaCustomModal.ts\");\n/* harmony import */ var _element_KaCustomModal__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_element_KaCustomModal__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _element_KaCustomModal__WEBPACK_IMPORTED_MODULE_11__) if([\"default\",\"ka_dom_ready\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _element_KaCustomModal__WEBPACK_IMPORTED_MODULE_11__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _tpl_template__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./tpl/template */ \"../kasi-embed/src/tpl/template.js\");\n/* harmony import */ var _element_KaModal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./element/KaModal */ \"../kasi-embed/src/element/KaModal.ts\");\n/* harmony import */ var _element_KaModal__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_element_KaModal__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _element_KaModal__WEBPACK_IMPORTED_MODULE_13__) if([\"default\",\"ka_dom_ready\",\"KaTemplate\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _element_KaModal__WEBPACK_IMPORTED_MODULE_13__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _core_query_select__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./core/query-select */ \"../kasi-embed/src/core/query-select.ts\");\n/* harmony import */ var _core_query_select__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_core_query_select__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _core_query_select__WEBPACK_IMPORTED_MODULE_14__) if([\"default\",\"ka_dom_ready\",\"KaTemplate\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _core_query_select__WEBPACK_IMPORTED_MODULE_14__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _core_eval__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./core/eval */ \"../kasi-embed/src/core/eval.js\");\n/* harmony import */ var _ce_html__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./ce/html */ \"../kasi-embed/src/ce/html.ts\");\n/* harmony import */ var _ce_html__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_ce_html__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _ce_html__WEBPACK_IMPORTED_MODULE_16__) if([\"default\",\"ka_dom_ready\",\"KaTemplate\",\"ka_eval\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _ce_html__WEBPACK_IMPORTED_MODULE_16__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _tpl_templatify__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./tpl/templatify */ \"../kasi-embed/src/tpl/templatify.js\");\n/* harmony import */ var _core_debouncer__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./core/debouncer */ \"../kasi-embed/src/core/debouncer.ts\");\n/* harmony import */ var _core_debouncer__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(_core_debouncer__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _core_debouncer__WEBPACK_IMPORTED_MODULE_18__) if([\"default\",\"ka_dom_ready\",\"KaTemplate\",\"ka_eval\",\"ka_templatify\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _core_debouncer__WEBPACK_IMPORTED_MODULE_18__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _core_storage__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./core/storage */ \"../kasi-embed/src/core/storage.ts\");\n/* harmony import */ var _core_storage__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(_core_storage__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _core_storage__WEBPACK_IMPORTED_MODULE_19__) if([\"default\",\"ka_dom_ready\",\"KaTemplate\",\"ka_eval\",\"ka_templatify\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _core_storage__WEBPACK_IMPORTED_MODULE_19__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack://@leuffen/jodastyle/../kasi-embed/src/index.ts?");

/***/ }),

/***/ "../kasi-embed/src/tpl/template.js":
/*!*****************************************!*\
  !*** ../kasi-embed/src/tpl/template.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KaTemplate: () => (/* binding */ KaTemplate)\n/* harmony export */ });\n/* harmony import */ var _core_eval_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/eval.js */ \"../kasi-embed/src/core/eval.js\");\n/* harmony import */ var _core_elwalk_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/elwalk.js */ \"../kasi-embed/src/core/elwalk.js\");\n/* harmony import */ var _core_apply_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/apply.js */ \"../kasi-embed/src/core/apply.js\");\n/* harmony import */ var _ce_custom_element_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ce/custom-element.js */ \"../kasi-embed/src/ce/custom-element.js\");\n\n\n\n\n\n\nclass KaTemplate {\n\n    constructor(template) {\n        this.template = template;\n        if (typeof this.template.__kachilds === \"undefined\")\n            this.template.__kachilds = [];\n        if (typeof this.template.__kasibling === \"undefined\")\n            this.template.__kasibling = this.template.nextElementSibling;\n\n        this.__renderCount = 0;\n        this.$scope = {};\n    }\n\n    _error(msg) {\n        console.error(`[ka-template] ${msg} on element`, this.template);\n        throw `[ka-template] ${msg} on element` + this.template;\n    }\n\n    _appendTemplate() {\n        let elements = this.template.content;\n\n        let elList = [];\n        for (let curE of elements.children) {\n            curE = curE.cloneNode(true);\n            curE._ka_maintained_by = this.template.getAttribute(\"_kaidx\");\n            elList.push(curE);\n            this.template.parentNode.insertBefore(curE, this.template.__kasibling);\n        }\n        this.template.__kachilds.push(elList);\n    }\n\n    _removeLastChild() {\n        if (this.template.__kachilds.length === 0)\n            return;\n        let childs = this.template.__kachilds[this.template.__kachilds.length - 1];\n        for (let curE of childs) {\n            this.template.parentElement.removeChild(curE);\n        }\n        this.template.__kachilds.length = this.template.__kachilds.length - 1;\n\n    }\n\n    _renderFor($scope, stmt) {\n        //console.log(\"kachilds\", this.template.__kachilds);\n        let matches = stmt.match(/^(let)?\\s*(?<target>.+)\\s+(?<type>of|in|repeat)\\s+(?<select>.+)$/);\n        if (matches === null) {\n            this._error(`Can't parse ka.for='${stmt}'`);\n        }\n        let selectVal = (0,_core_eval_js__WEBPACK_IMPORTED_MODULE_0__.ka_eval)(matches.groups.select, $scope, this.template);\n\n        if (matches.groups.type === \"repeat\") {\n            if (typeof selectVal !== \"number\")\n                this._error(`Error ka.for='${stmt}': Selected val must be number in repeat loop`);\n            selectVal = new Array(selectVal).fill(null);\n        }\n\n        let eIndex = 0;\n        for (let index in selectVal) {\n            let curScope = {$scope: $scope, ...$scope};\n            curScope[matches.groups.target] = index;\n\n            if (matches.groups.type === \"of\")\n                curScope[matches.groups.target] = selectVal[index];\n\n            if (this.template.__kachilds.length < eIndex + 1) {\n                //console.log(\"append\", eIndex, this.template.__kachilds.length);\n                this._appendTemplate();\n            }\n            this._maintain(curScope, this.template.__kachilds[eIndex], eIndex);\n            eIndex++;\n        }\n        for(let remIdx = eIndex; remIdx < this.template.__kachilds.length; ) {\n            this._removeLastChild();\n        }\n\n    }\n\n    _maintain($scope, childs, forIndex=0) {\n        for (let child of childs) {\n            child._ka_for_index = forIndex;\n            (0,_core_elwalk_js__WEBPACK_IMPORTED_MODULE_1__.ka_elwalk)(child, (el) => {\n                //console.log(\"walk\", el);\n\n                if (el instanceof HTMLTemplateElement) {\n                    //console.log(\"maintain\", el);\n                    let r = new this.constructor(el);\n                    r.render($scope);\n                    return false;\n                }\n\n                if (typeof el._ka_maintained_by !== \"undefined\" && el._ka_maintained_by !== this.template.getAttribute(\"_kaidx\")) {\n                    return false;\n                }\n\n                (0,_core_apply_js__WEBPACK_IMPORTED_MODULE_2__.ka_apply)(el, $scope);\n                if ((el instanceof HTMLElement && (el.hasAttribute(\"ka.stop\" )) || el instanceof _ce_custom_element_js__WEBPACK_IMPORTED_MODULE_3__.KaCustomElement))\n                    return false; // Skip Element rendering\n            }, true, true);\n        }\n    }\n\n\n    _renderIf($scope, stmt) {\n         let selectVal = (0,_core_eval_js__WEBPACK_IMPORTED_MODULE_0__.ka_eval)(stmt, $scope, this.template);\n        if (selectVal === true) {\n            if (this.template.__kachilds.length === 0)\n                this._appendTemplate();\n\n            this._maintain($scope, this.template.__kachilds[0]);\n        } else {\n            this._removeLastChild();\n        }\n    }\n\n    /**\n     * Remove all rendered element\n     */\n    dispose() {\n        for(;this.template.__kachilds.length > 0;)\n            this._removeLastChild();\n    }\n\n\n    setScope($scope) {\n        this.$scope = $scope;\n    }\n\n    /**\n     * Render / Update the Template\n     *\n     * Once the scope in parameter 1 was set, it will render\n     * without any parameters. Scope is available via property $scope\n     *\n     * @param $scope\n     */\n    render($scope = null) {\n        if ($scope === null)\n            $scope = this.$scope;\n        this.$scope = $scope;\n        this.__renderCount++;\n\n        if (this.template.hasAttribute(\"ka.for\")) {\n            this._renderFor($scope, this.template.getAttribute(\"ka.for\"));\n        } else if (this.template.hasAttribute(\"ka.if\")) {\n            this._renderIf($scope, this.template.getAttribute(\"ka.if\"));\n        } else {\n            if (typeof this.template._ka_active === \"undefined\") {\n                this._appendTemplate();\n                this.template._ka_active = true;\n            }\n            this._maintain($scope, this.template.__kachilds);\n        }\n    }\n\n    /**\n     * Return true if this template was renderd the first time\n     *\n     * @returns {boolean}\n     */\n    isFirstRender() {\n        return this.__renderCount === 1;\n    }\n\n};\n\n\n//# sourceURL=webpack://@leuffen/jodastyle/../kasi-embed/src/tpl/template.js?");

/***/ }),

/***/ "../kasi-embed/src/tpl/templatify.js":
/*!*******************************************!*\
  !*** ../kasi-embed/src/tpl/templatify.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ka_templatify: () => (/* binding */ ka_templatify)\n/* harmony export */ });\n/* harmony import */ var _core_query_select__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/query-select */ \"../kasi-embed/src/core/query-select.ts\");\n/* harmony import */ var _core_query_select__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_core_query_select__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _core_elwalk_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/elwalk.js */ \"../kasi-embed/src/core/elwalk.js\");\n\n\n\nfunction quoteattr(s, preserveCR) {\n    preserveCR = preserveCR ? '&#13;' : '\\n';\n    return ('' + s) /* Forces the conversion to string. */\n        .replace(/&/g, '&amp;') /* This MUST be the 1st replacement. */\n        .replace(/'/g, '&apos;') /* The 4 other predefined entities, required. */\n        .replace(/\"/g, '&quot;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        /*\n        You may add other replacements here for HTML only\n        (but it's not necessary).\n        Or for XML, only if the named entities are defined in its DTD.\n        */\n        .replace(/\\r\\n/g, preserveCR) /* Must be before the next replacement. */\n        .replace(/[\\r\\n]/g, preserveCR);\n    ;\n}\n\nwindow._ka_el_idx = 0;\n/**\n * Generate a renderable Template from <template> Element\n *\n * @param {HTMLElement|string} elem\n * @return {HTMLTemplateElement}\n */\nfunction ka_templatify (elem, returnMode=true) {\n    if (typeof elem === \"string\")\n        elem = (0,_core_query_select__WEBPACK_IMPORTED_MODULE_0__.ka_query_selector)(elem);\n\n    if ( ! (elem instanceof Node)) {\n        console.error(\"[ka-templatify] Parameter 1 is not a html element: \", elem)\n        throw `[ka-templify] Parameter 1 is not a html element: ${elem}`;\n    }\n\n    const elIdxName = \"_ka_el_idx\";\n    if (window[elIdxName] === null)\n        window[elIdxName] = 5;\n    window[elIdxName]++;\n\n\n    if (returnMode) {\n        let returnTpl = document.createElement(\"template\");\n        returnTpl.setAttribute(\"_kaidx\", (window[elIdxName]).toString())\n        /* @var {HTMLTemplateElement} returnTpl */\n        returnTpl.innerHTML = elem.innerHTML\n            .replace(/\\[\\[(.*?)\\]\\]/g, (matches, m1) => `<span ka.textContent=\"${quoteattr(m1)}\"></span>`);\n\n        ka_templatify(returnTpl.content, false);\n        return returnTpl;\n    }\n\n    if (elem instanceof HTMLTemplateElement)\n        elem = elem.content;\n\n\n\n\n    let wrapElem = (el, attName, attVal) => {\n        let tpl = document.createElement(\"template\");\n        tpl.setAttribute(\"_kaidx\", (window[elIdxName]).toString())\n        let clonedEl = el.cloneNode(true);\n        clonedEl.removeAttribute(attName);\n        tpl.content.append(clonedEl);\n        tpl.setAttribute(attName, attVal);\n        el.replaceWith(tpl);\n        return tpl;\n    }\n\n    ;(0,_core_elwalk_js__WEBPACK_IMPORTED_MODULE_1__.ka_elwalk)(elem, (el) => {\n        //console.log(el);\n        if ( ! (el instanceof HTMLElement))\n            return;\n        let tpl = null;\n        for (let attrName of el.getAttributeNames()) {\n            if (attrName === \"ka.for\") {\n                tpl = wrapElem(el, \"ka.for\", el.getAttribute(\"ka.for\"));\n                ka_templatify(tpl, false);\n                break;\n            }\n            if (attrName === \"ka.if\") {\n                tpl = wrapElem(el, \"ka.if\", el.getAttribute(\"ka.if\"));\n                ka_templatify(tpl, false);\n                break;\n            }\n        }\n    }, true, false);\n}\n\n\n//# sourceURL=webpack://@leuffen/jodastyle/../kasi-embed/src/tpl/templatify.js?");

/***/ }),

/***/ "../kasi-embed/src/types.ts":
/*!**********************************!*\
  !*** ../kasi-embed/src/types.ts ***!
  \**********************************/
/***/ (() => {

eval("throw new Error(\"Module parse failed: Unexpected token (6:7)\\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\\n| import {Debouncer} from \\\"./core/debouncer\\\";\\n| \\n> export type KaScopeOn = {\\n|     /**\\n|      * Called whenever a bind value changes\");\n\n//# sourceURL=webpack://@leuffen/jodastyle/../kasi-embed/src/types.ts?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./index.ts");
/******/ 	
/******/ })()
;